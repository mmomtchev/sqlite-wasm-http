(()=>{"use strict";var e,r,t={559:(e,r,t)=>{var n=t(842);const i=[]||0,s=["threads","vfs","cache","http"],o={};for(const e of s)o[e]=i.includes(e)?console.debug.bind(console):()=>{};const a=function(){const e=new ArrayBuffer(2),r=new Uint8Array(e),t=new Uint16Array(e);if(r[0]=240,r[1]=13,61453==t[0])return o.threads("System is Big-Endian"),!1;if(3568==t[0])return o.threads("System is Little-Endian"),!0;throw new Error(`Failed determining endianness: ${t}`)}();var c=function(e,r,t,n){return new(t||(t=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(o,a)}c((n=n.apply(e,r||[])).next())}))};let f;const d={},u=new n.Z({max:32});let l,h=1;const g={xOpen:function(e){return c(this,void 0,void 0,(function*(){let r=u.get(e.url);return r instanceof Promise&&(r=yield r),void 0!==r||(r=fetch(e.url,{method:"HEAD",headers:Object.assign({},null==f?void 0:f.headers)}).then((r=>("bytes"!==r.headers.get("Accept-Ranges")&&console.warn(`Server for ${e.url} does not advertise 'Accept-Ranges'. If the server supports it, in order to remove this message, add "Accept-Ranges: bytes". Additionally, if using CORS, add "Access-Control-Expose-Headers: *".`),{url:e.url,id:h++,size:BigInt(r.headers.get("Content-Length")),pageSize:null}))),u.set(e.url,r),u.set(e.url,yield r)),0}))},xAccess:function(e,r){return c(this,void 0,void 0,(function*(){const t=new Uint32Array(r.shm,0,1);try{const n=yield g.xOpen(e,r);t[0]=0===n?1:0}catch(e){t[0]=0}return 0}))},xRead:function(e,r){return c(this,void 0,void 0,(function*(){let t=u.get(e.url);if(!t)throw new Error(`File ${e.url} not open`);if(t instanceof Promise&&(t=yield t),!t.pageSize){t.pageSize=1024;const r=new ArrayBuffer(2),n=yield g.xRead({msg:"xRead",url:e.url,offset:BigInt(16),n:2},{buffer:new Uint8Array(r)}),i=new Uint16Array(r);if(0!==n)return n;if(function(e){if(a)for(let r=0;r<e.length;r++)e[r]=(65280&e[r])>>8|(255&e[r])<<8}(i),t.pageSize=i[0],o.vfs(`page size is ${t.pageSize}`),1024!=t.pageSize&&(console.warn(`Page size for ${e.url} is ${t.pageSize}, recommended size is 1024`),l.delete(t.id+"|0")),t.pageSize>f.maxPageSize)throw new Error(`${t.pageSize} is over the maximum configured ${f.maxPageSize}`)}const n=BigInt(t.pageSize),i=BigInt(e.n),s=e.offset/n;s*n!==e.offset&&o.vfs(`Read chunk ${e.offset}:${e.n} is not page-aligned`);let c=s*n;if(c+n<e.offset+i)throw new Error(`Read chunk ${e.offset}:${e.n} spans across a page-boundary`);const d=t.id+"|"+s;let h=l.get(d);if(h instanceof Promise&&(h=yield h),"number"==typeof h){o.cache(`cache hit (multi-page segment) for ${e.url}:${s}`);const r=BigInt(h)*n;h=l.get(t.id+"|"+h),h instanceof Promise&&(h=yield h),h instanceof Uint8Array?c=r:h=void 0}if(void 0===h){o.cache(`cache miss for ${e.url}:${s}`);let r=t.pageSize,n=s>0&&l.get(t.id+"|"+(Number(s)-1));n&&(n instanceof Promise&&(n=yield n),"number"==typeof n&&(n=l.get(t.id+"|"+n)),n instanceof Promise&&(n=yield n),n instanceof Uint8Array&&(r=2*n.byteLength,o.cache(`downloading super page of size ${r}`)));const i=r/t.pageSize;o.http(`downloading page ${s} of size ${r} starting at ${c}`);const a=fetch(e.url,{method:"GET",headers:Object.assign(Object.assign({},f.headers),{Range:`bytes=${c}-${c+BigInt(r-1)}`})}).then((e=>e.arrayBuffer())).then((e=>new Uint8Array(e)));l.set(d,a);for(let e=Number(s)+1;e<Number(s)+i;e++)l.set(t.id+"|"+e,a.then((()=>Number(s))));if(h=yield a,!(h instanceof Uint8Array)||0===h.length)throw new Error(`Invalid HTTP response received: ${JSON.stringify(a)}`);l.set(d,h);for(let e=Number(s)+1;e<Number(s)+i;e++)l.set(t.id+"|"+e,Number(s))}else o.cache(`cache hit for ${e.url}:${s}`);const p=Number(e.offset-c);return r.buffer.set(h.subarray(p,p+e.n)),0}))},xFilesize:function(e,r){return c(this,void 0,void 0,(function*(){let t=u.get(e.url);if(!t)throw new Error(`File ${e.fid} not open`);return t instanceof Promise&&(t=yield t),new BigInt64Array(r.shm,0,1)[0]=t.size,0}))}};function p({data:e}){return c(this,void 0,void 0,(function*(){let r;o.threads("Received new work message",this,e);try{r=yield g[e.msg](e,this),o.threads("operation successful",this,r),Atomics.store(this.lock,0,r)}catch(e){console.error(e),Atomics.store(this.lock,0,1)}Atomics.notify(this.lock,0)}))}if(globalThis.onmessage=({data:e})=>{switch(o.threads("Received new control message",e),e.msg){case"handshake":{const r=new SharedArrayBuffer(f.maxPageSize+Int32Array.BYTES_PER_ELEMENT),t=new Int32Array(r,f.maxPageSize),n=new Uint8Array(r,0,f.maxPageSize);t[0]=65535,d[e.id]={id:e.id,port:e.port,shm:r,lock:t,buffer:n},postMessage({msg:"ack",id:e.id,shm:r,lock:t}),e.port.onmessage=p.bind(d[e.id])}break;case"init":f=e.options,l=new n.Z({maxSize:1024*f.cacheSize,sizeCalculation:e=>{var r;return null!==(r=e.byteLength)&&void 0!==r?r:4}});break;case"close":postMessage({msg:"ack"}),close();break;default:throw new Error(`Invalid message received by backend: ${e}`)}},"undefined"==typeof SharedArrayBuffer)throw new Error('SharedArrayBuffer is not available. If your browser supports it, the webserver must send "Cross-Origin-Opener-Policy: same-origin "and "Cross-Origin-Embedder-Policy: require-corp" headers.')}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.m=t,i.x=()=>{var e=i.O(void 0,[842],(()=>i(559)));return i.O(e)},e=[],i.O=(r,t,n,s)=>{if(!t){var o=1/0;for(d=0;d<e.length;d++){for(var[t,n,s]=e[d],a=!0,c=0;c<t.length;c++)(!1&s||o>=s)&&Object.keys(i.O).every((e=>i.O[e](t[c])))?t.splice(c--,1):(a=!1,s<o&&(o=s));if(a){e.splice(d--,1);var f=n();void 0!==f&&(r=f)}}return r}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[t,n,s]},i.d=(e,r)=>{for(var t in r)i.o(r,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((r,t)=>(i.f[t](e,r),r)),[])),i.u=e=>e+".bundle.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var r=i.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={559:1};i.f.i=(r,t)=>{e[r]||importScripts(i.p+i.u(r))};var r=self.webpackChunksqlite_wasm_http=self.webpackChunksqlite_wasm_http||[],t=r.push.bind(r);r.push=r=>{var[n,s,o]=r;for(var a in s)i.o(s,a)&&(i.m[a]=s[a]);for(o&&o(i);n.length;)e[n.pop()]=1;t(r)}})(),r=i.x,i.x=()=>i.e(842).then(r),i.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWFwRCxLQUNyQ0QsRUFBb0JNLEVBQUVMLEdBQVlvRCxFQUFZcEQsSUFJaEQsSUFER3FELEdBQVNBLEVBQVF0RCxHQUNkVSxFQUFTbkQsUUFDZHlGLEVBQWdCdEMsRUFBUzZDLE9BQVMsRUFDbkNKLEVBQTJCOUYsRUFBSyxDLEtYbkI3QnZFLEVBQU9rSCxFQUFvQk8sRUFDL0JQLEVBQW9CTyxFQUFJLElBQ2hCUCxFQUFvQnZGLEVBQUUsS0FBS0ksS0FBSy9CLEdZRGRrSCxFQUFvQk8sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9zcWxpdGUtd2FzbS1odHRwL3dlYnBhY2svcnVudGltZS9zdGFydHVwIGNodW5rIGRlcGVuZGVuY2llcyIsIndlYnBhY2s6Ly9zcWxpdGUtd2FzbS1odHRwLy4vZGlzdC92ZnMtaHR0cC10eXBlcy5qcyIsIndlYnBhY2s6Ly9zcWxpdGUtd2FzbS1odHRwLy4vZGlzdC9lbmRpYW5uZXNzLmpzIiwid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvLi9kaXN0L3Zmcy1odHRwLXdvcmtlci5qcyIsIndlYnBhY2s6Ly9zcWxpdGUtd2FzbS1odHRwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9zcWxpdGUtd2FzbS1odHRwL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9zcWxpdGUtd2FzbS1odHRwL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vc3FsaXRlLXdhc20taHR0cC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vc3FsaXRlLXdhc20taHR0cC93ZWJwYWNrL3J1bnRpbWUvaW1wb3J0U2NyaXB0cyBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsInZhciBuZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy54O1xuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0gKCkgPT4ge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKDg0MikudGhlbihuZXh0KTtcbn07IiwidmFyIF9hO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZW91dDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDIwMDAwLFxuICAgICAgICBtYXhQYWdlU2l6ZTogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1heFBhZ2VTaXplKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiA0MDk2LFxuICAgICAgICBjYWNoZVNpemU6IChfYyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYWNoZVNpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDEwMjQsXG4gICAgICAgIGhlYWRlcnM6IChfZCA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB7fVxuICAgIH07XG59XG5jb25zdCBkZWJ1Z09wdGlvbnMgPSAodHlwZW9mIFNRTElURV9ERUJVRyAhPT0gJ3VuZGVmaW5lZCcgJiYgU1FMSVRFX0RFQlVHKSB8fFxuICAgICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mICgoX2EgPSBwcm9jZXNzID09PSBudWxsIHx8IHByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2Nlc3MuZW52KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuU1FMSVRFX0RFQlVHKSAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuU1FMSVRFX0RFQlVHKSB8fFxuICAgICcnO1xuZXhwb3J0IGNvbnN0IGRlYnVnU3lzID0gWyd0aHJlYWRzJywgJ3ZmcycsICdjYWNoZScsICdodHRwJ107XG5leHBvcnQgY29uc3QgZGVidWcgPSB7fTtcbmZvciAoY29uc3QgZCBvZiBkZWJ1Z1N5cykge1xuICAgIGRlYnVnW2RdID0gZGVidWdPcHRpb25zLmluY2x1ZGVzKGQpID9cbiAgICAgICAgY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUpIDpcbiAgICAgICAgKCkgPT4gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmZzLWh0dHAtdHlwZXMuanMubWFwIiwiLy8gUHJvY2VkdXJlcyBmb3IgY2hhbmdpbmcgdGhlIGJ5dGUgc2V4XG4vLyBTUUxpdGUgaXMgYWx3YXlzIEJpZy1FbmRpYW4sIEpTIGZvbGxvd3MgdGhlIHBsYXRmb3JtLCB3aGljaCBpcyBMaXR0bGUtRW5kaWFuIG9uIHg4NlxuaW1wb3J0IHsgZGVidWcgfSBmcm9tICcuL3Zmcy1odHRwLXR5cGVzLmpzJztcbmNvbnN0IHN3YXBOZWVkZWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGFiID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgIGNvbnN0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICAgIGNvbnN0IHUxNiA9IG5ldyBVaW50MTZBcnJheShhYik7XG4gICAgdThbMF0gPSAweEYwO1xuICAgIHU4WzFdID0gMHgwRDtcbiAgICAvLyBCaWdcbiAgICBpZiAodTE2WzBdID09IDB4RjAwRCkge1xuICAgICAgICBkZWJ1Z1sndGhyZWFkcyddKCdTeXN0ZW0gaXMgQmlnLUVuZGlhbicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIExpdHRsZVxuICAgIGlmICh1MTZbMF0gPT0gMHgwREYwKSB7XG4gICAgICAgIGRlYnVnWyd0aHJlYWRzJ10oJ1N5c3RlbSBpcyBMaXR0bGUtRW5kaWFuJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCBkZXRlcm1pbmluZyBlbmRpYW5uZXNzOiAke3UxNn1gKTtcbn0pKCk7XG5leHBvcnQgZnVuY3Rpb24gbnRvaDE2KGRhdGEpIHtcbiAgICBpZiAoc3dhcE5lZWRlZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSAoKGRhdGFbaV0gJiAweEZGMDApID4+IDgpIHwgKChkYXRhW2ldICYgMHgwMEZGKSA8PCA4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZGlhbm5lc3MuanMubWFwIiwiLy8gVGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIGFuIEhUVFAgYmFja2VuZCB0aHJlYWRcbi8vIEl0IGNhbiBzZXJ2ZSBtdWx0aXBsZSBTUUxpdGUgd29ya2VyIHRocmVhZHNcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IExSVUNhY2hlIGZyb20gJ2xydS1jYWNoZSc7XG5pbXBvcnQgeyBudG9oMTYgfSBmcm9tICcuL2VuZGlhbm5lc3MuanMnO1xuaW1wb3J0IHsgZGVidWcgfSBmcm9tICcuL3Zmcy1odHRwLXR5cGVzLmpzJztcbmxldCBvcHRpb25zO1xuLy8gVGhlIHNldCBvZiBzcWxpdGUgV29ya2VycyB0aGF0IHVzZSB0aGlzIGJhY2tlbmRcbmNvbnN0IGNvbnN1bWVycyA9IHt9O1xuY29uc3QgZmlsZXMgPSBuZXcgTFJVQ2FjaGUoe1xuICAgIG1heDogMzJcbn0pO1xuLy8gVGhlIGVudHJ5IGZvciBhIGdpdmVuIHBhZ2UgY2FuIGJlIGVpdGhlciB0aGUgcGFnZSBpdHNlbGZcbi8vIG9yIHRoZSBudW1iZXIgb2YgdGhlIHBhZ2UgdGhhdCBoYXMgdGhlIHBhcmVudCBzdXBlci1wYWdlXG4vLyBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgYSBjYWNoZSBzdHJ1Y3R1cmUgKGluZGV4ZWQgYnkgdGhlIFVSTCArIHBhZ2UgbnVtYmVyKVxuLy8gVVJMfDAgLT4gVWludDhBcnJheShwYWdlKSAgICAgICAgICAgICAgICAgICAgICMgVGhpcyBwYWdlIGlzIGluIGNhY2hlXG4vLyBVUkx8MSAtPiB1bmRlZmluZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBUaGVzZSB0d29cbi8vIFVSTHwyIC0+IHVuZGVmaW5lZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGFyZSBub3Rcbi8vIFVSTHwzIC0+IFByb21pc2U8VWludDhBcnJheShwYWdlICogMik+ICAgICAgICAjIFRoaXMgaXMgYSBjdXJyZW50bHkgZG93bmxvYWRpbmcgMi1wYWdlIHNlZ21lbnRcbi8vIFVSTHw0IC0+IFByb21pc2U8Mz4gICAgICAgICAgICAgICAgICAgICAgICAgICAjIFRoaXMgcmVmZXJlbmNlcyB0aGUgcHJldmlvdXMgb25lXG4vLyBVUkx8NSAtPiAyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBBbiBpbnZhbGlkIHN0YWxlIGVudHJ5IHRoYXQgd2lsbCBiZSBvdmVyd3JpdHRlblxubGV0IGNhY2hlO1xubGV0IG5leHRJZCA9IDE7XG5jb25zdCBiYWNrZW5kQXN5bmNNZXRob2RzID0ge1xuICAgIC8vIEhUVFAgaXMgYSBzdGF0ZWxlc3MgcHJvdG9jb2wsIHNvIHhPcGVuIG1lYW5zIHZlcmlmeSBpZiB0aGUgVVJMIGlzIHZhbGlkXG4gICAgeE9wZW46IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IGZpbGVzLmdldChtc2cudXJsKTtcbiAgICAgICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgZW50cnkgPSB5aWVsZCBlbnRyeTtcbiAgICAgICAgICAgIGlmIChlbnRyeSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgLy8gU2V0IGEgcHJvbWlzZSBmb3IgdGhlIG5leHQgb3BlbmVyIG9mIHRoZSBzYW1lIGZpbGUgdG8gYXdhaXQgdXBvblxuICAgICAgICAgICAgZW50cnkgPSBmZXRjaChtc2cudXJsLCB7IG1ldGhvZDogJ0hFQUQnLCBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycykgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoaGVhZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkLmhlYWRlcnMuZ2V0KCdBY2NlcHQtUmFuZ2VzJykgIT09ICdieXRlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBTZXJ2ZXIgZm9yICR7bXNnLnVybH0gZG9lcyBub3QgYWR2ZXJ0aXNlICdBY2NlcHQtUmFuZ2VzJy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnSWYgdGhlIHNlcnZlciBzdXBwb3J0cyBpdCwgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoaXMgbWVzc2FnZSwgYWRkIFwiQWNjZXB0LVJhbmdlczogYnl0ZXNcIi4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQWRkaXRpb25hbGx5LCBpZiB1c2luZyBDT1JTLCBhZGQgXCJBY2Nlc3MtQ29udHJvbC1FeHBvc2UtSGVhZGVyczogKlwiLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IG1zZy51cmwsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBuZXh0SWQrKyxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogQmlnSW50KGhlYWQuaGVhZGVycy5nZXQoJ0NvbnRlbnQtTGVuZ3RoJykpLFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgYmUgZGV0ZXJtaW5lZCBvbiB0aGUgZmlyc3QgcmVhZFxuICAgICAgICAgICAgICAgICAgICBwYWdlU2l6ZTogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZpbGVzLnNldChtc2cudXJsLCBlbnRyeSk7XG4gICAgICAgICAgICAvLyBSZXBsYWNlIGl0IHdpdGggdGhlIGFjdHVhbCBlbnRyeSBvbmNlIHJlc29sdmVkXG4gICAgICAgICAgICBmaWxlcy5zZXQobXNnLnVybCwgeWllbGQgZW50cnkpO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gVGhlcmUgaXMgbm8gcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4geE9wZW4gYW5kIHhBY2Nlc3MsIG9ubHkgdGhlIHNlbWFudGljcyBkaWZmZXJcbiAgICB4QWNjZXNzOiBmdW5jdGlvbiAobXNnLCBjb25zdW1lcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQzMkFycmF5KGNvbnN1bWVyLnNobSwgMCwgMSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB5aWVsZCBiYWNrZW5kQXN5bmNNZXRob2RzLnhPcGVuKG1zZywgY29uc3VtZXIpO1xuICAgICAgICAgICAgICAgIGlmIChyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbMF0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFswXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB4UmVhZDogZnVuY3Rpb24gKG1zZywgY29uc3VtZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IGZpbGVzLmdldChtc2cudXJsKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlICR7bXNnLnVybH0gbm90IG9wZW5gKTtcbiAgICAgICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgZW50cnkgPSB5aWVsZCBlbnRyeTtcbiAgICAgICAgICAgIGlmICghZW50cnkucGFnZVNpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBhZ2Ugc2l6ZSBpZiB3ZSBkb24ndCBrbm93IGl0XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgaW4gdHdvIGJpZy1lbmRpYW4gYnl0ZXMgYXQgb2Zmc2V0IDE2IGluIHdoYXQgaXMgYWx3YXlzIHRoZSBmaXJzdCBwYWdlXG4gICAgICAgICAgICAgICAgZW50cnkucGFnZVNpemUgPSAxMDI0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB5aWVsZCBiYWNrZW5kQXN5bmNNZXRob2RzLnhSZWFkKHsgbXNnOiAneFJlYWQnLCB1cmw6IG1zZy51cmwsIG9mZnNldDogQmlnSW50KDE2KSwgbjogMiB9LCB7IGJ1ZmZlcjogbmV3IFVpbnQ4QXJyYXkocGFnZURhdGFCdWZmZXIpIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhID0gbmV3IFVpbnQxNkFycmF5KHBhZ2VEYXRhQnVmZmVyKTtcbiAgICAgICAgICAgICAgICBpZiAociAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgbnRvaDE2KHBhZ2VEYXRhKTtcbiAgICAgICAgICAgICAgICBlbnRyeS5wYWdlU2l6ZSA9IHBhZ2VEYXRhWzBdO1xuICAgICAgICAgICAgICAgIGRlYnVnWyd2ZnMnXShgcGFnZSBzaXplIGlzICR7ZW50cnkucGFnZVNpemV9YCk7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnBhZ2VTaXplICE9IDEwMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhZ2Ugc2l6ZSBpcyBub3QgMTAyNCB3ZSBjYW4ndCBrZWVwIHRoaXMgXCJwYWdlXCIgaW4gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUGFnZSBzaXplIGZvciAke21zZy51cmx9IGlzICR7ZW50cnkucGFnZVNpemV9LCByZWNvbW1lbmRlZCBzaXplIGlzIDEwMjRgKTtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUuZGVsZXRlKGVudHJ5LmlkICsgJ3wwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5wYWdlU2l6ZSA+IG9wdGlvbnMubWF4UGFnZVNpemUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlbnRyeS5wYWdlU2l6ZX0gaXMgb3ZlciB0aGUgbWF4aW11bSBjb25maWd1cmVkICR7b3B0aW9ucy5tYXhQYWdlU2l6ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VTaXplID0gQmlnSW50KGVudHJ5LnBhZ2VTaXplKTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IEJpZ0ludChtc2cubik7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gbXNnLm9mZnNldCAvIHBhZ2VTaXplO1xuICAgICAgICAgICAgaWYgKHBhZ2UgKiBwYWdlU2l6ZSAhPT0gbXNnLm9mZnNldClcbiAgICAgICAgICAgICAgICBkZWJ1Z1sndmZzJ10oYFJlYWQgY2h1bmsgJHttc2cub2Zmc2V0fToke21zZy5ufSBpcyBub3QgcGFnZS1hbGlnbmVkYCk7XG4gICAgICAgICAgICBsZXQgcGFnZVN0YXJ0ID0gcGFnZSAqIHBhZ2VTaXplO1xuICAgICAgICAgICAgaWYgKHBhZ2VTdGFydCArIHBhZ2VTaXplIDwgbXNnLm9mZnNldCArIGxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlYWQgY2h1bmsgJHttc2cub2Zmc2V0fToke21zZy5ufSBzcGFucyBhY3Jvc3MgYSBwYWdlLWJvdW5kYXJ5YCk7XG4gICAgICAgICAgICBjb25zdCBjYWNoZUlkID0gZW50cnkuaWQgKyAnfCcgKyBwYWdlO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBjYWNoZS5nZXQoY2FjaGVJZCk7XG4gICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IGFub3RoZXIgdGhyZWFkIGhhcyByZXF1ZXN0ZWQgdGhpcyBzZWdtZW50XG4gICAgICAgICAgICAgICAgZGF0YSA9IHlpZWxkIGRhdGE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgZGVidWdbJ2NhY2hlJ10oYGNhY2hlIGhpdCAobXVsdGktcGFnZSBzZWdtZW50KSBmb3IgJHttc2cudXJsfToke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBwYWdlIGlzIHByZXNlbnQgYXMgYSBzZWdtZW50IG9mIGEgc3VwZXItcGFnZVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhZ2VTdGFydCA9IEJpZ0ludChkYXRhKSAqIHBhZ2VTaXplO1xuICAgICAgICAgICAgICAgIGRhdGEgPSBjYWNoZS5nZXQoZW50cnkuaWQgKyAnfCcgKyBkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCBkYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgYWxsIHN1YnBhZ2VzIGFyZSB2YWxpZCwgdGhlcmUgYXJlIHR3byBwb3NzaWJsZSBjYXNlc1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVyZSBhIG5vbi12YWxpZCBzdXBlcnBhZ2UgY2FuIGJlIHJlZmVyZW5jZWQ6XG4gICAgICAgICAgICAgICAgICAgIC8vICogdGhlIHN1cGVycGFnZSB3YXMgdG9vIGJpZyB0byBmaXQgaW4gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgIC8vICogdGhlIHN1cGVycGFnZSB3YXMgZXZpY3RlZCBiZWZvcmUgdGhlIHN1YnNlZ21lbnRzXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTdGFydCA9IG5ld1BhZ2VTdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGRlYnVnWydjYWNoZSddKGBjYWNoZSBtaXNzIGZvciAke21zZy51cmx9OiR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBsZXQgY2h1bmtTaXplID0gZW50cnkucGFnZVNpemU7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIHBhZ2UgaXMgaW4gdGhlIGNhY2hlLCB3ZSBkb3VibGUgdGhlIHBhZ2Ugc2l6ZVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2FzIHRoZSBvcmlnaW5hbCBwYWdlIG1lcmdpbmcgYWxnb3JpdGhtIGltcGxlbWVudGVkIGJ5IEBwaGlyZXNreVxuICAgICAgICAgICAgICAgIGxldCBwcmV2ID0gcGFnZSA+IDAgJiYgY2FjaGUuZ2V0KGVudHJ5LmlkICsgJ3wnICsgKE51bWJlcihwYWdlKSAtIDEpKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldiBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0geWllbGQgcHJldjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmV2ID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBjYWNoZS5nZXQoZW50cnkuaWQgKyAnfCcgKyBwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IHlpZWxkIHByZXY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWQgc3VwZXJwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua1NpemUgPSBwcmV2LmJ5dGVMZW5ndGggKiAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdbJ2NhY2hlJ10oYGRvd25sb2FkaW5nIHN1cGVyIHBhZ2Ugb2Ygc2l6ZSAke2NodW5rU2l6ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlcyA9IGNodW5rU2l6ZSAvIGVudHJ5LnBhZ2VTaXplO1xuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkIGEgbmV3IHNlZ21lbnRcbiAgICAgICAgICAgICAgICBkZWJ1Z1snaHR0cCddKGBkb3dubG9hZGluZyBwYWdlICR7cGFnZX0gb2Ygc2l6ZSAke2NodW5rU2l6ZX0gc3RhcnRpbmcgYXQgJHtwYWdlU3RhcnR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcCA9IGZldGNoKG1zZy51cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLmhlYWRlcnMpLCB7ICdSYW5nZSc6IGBieXRlcz0ke3BhZ2VTdGFydH0tJHtwYWdlU3RhcnQgKyBCaWdJbnQoY2h1bmtTaXplIC0gMSl9YCB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiByLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiBuZXcgVWludDhBcnJheShyKSk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc3luY2hyb25vdXNseSBzZXQgYSBQcm9taXNlIGluIHRoZSBjYWNoZSBpbiBjYXNlIGFub3RoZXIgdGhyZWFkXG4gICAgICAgICAgICAgICAgLy8gdHJpZXMgdG8gcmVhZCB0aGUgc2FtZSBzZWdtZW50XG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KGNhY2hlSWQsIHJlc3ApO1xuICAgICAgICAgICAgICAgIC8vIFRoZXNlIHBvaW50IHRvIHRoZSBwYXJlbnQgc3VwZXItcGFnZSBhbmQgcmVzb2x2ZSBhdCB0aGUgc2FtZSB0aW1lIGFzIHJlc3BcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gTnVtYmVyKHBhZ2UpICsgMTsgaSA8IE51bWJlcihwYWdlKSArIHBhZ2VzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUuc2V0KGVudHJ5LmlkICsgJ3wnICsgaSwgcmVzcC50aGVuKCgpID0+IE51bWJlcihwYWdlKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhID0geWllbGQgcmVzcDtcbiAgICAgICAgICAgICAgICBpZiAoIShkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkgfHwgZGF0YS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBIVFRQIHJlc3BvbnNlIHJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KHJlc3ApfWApO1xuICAgICAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgYSBtdWx0aXBsZS1wYWdlIHNlZ21lbnQsIHRoaXMgaXMgdGhlIHBhcmVudCBzdXBlci1wYWdlXG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KGNhY2hlSWQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIC8vIFRoZXNlIHBvaW50IHRvIHRoZSBwYXJlbnQgc3VwZXItcGFnZVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBOdW1iZXIocGFnZSkgKyAxOyBpIDwgTnVtYmVyKHBhZ2UpICsgcGFnZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zZXQoZW50cnkuaWQgKyAnfCcgKyBpLCBOdW1iZXIocGFnZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnWydjYWNoZSddKGBjYWNoZSBoaXQgZm9yICR7bXNnLnVybH06JHtwYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFnZU9mZnNldCA9IE51bWJlcihtc2cub2Zmc2V0IC0gcGFnZVN0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN1bWVyLmJ1ZmZlci5zZXQoZGF0YS5zdWJhcnJheShwYWdlT2Zmc2V0LCBwYWdlT2Zmc2V0ICsgbXNnLm4pKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8vIFRoaXMgaXMgY2FjaGVkXG4gICAgeEZpbGVzaXplOiBmdW5jdGlvbiAobXNnLCBjb25zdW1lcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gZmlsZXMuZ2V0KG1zZy51cmwpO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgJHttc2cuZmlkfSBub3Qgb3BlbmApO1xuICAgICAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgICAgICBlbnRyeSA9IHlpZWxkIGVudHJ5O1xuICAgICAgICAgICAgY29uc3Qgb3V0ID0gbmV3IEJpZ0ludDY0QXJyYXkoY29uc3VtZXIuc2htLCAwLCAxKTtcbiAgICAgICAgICAgIG91dFswXSA9IGVudHJ5LnNpemU7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHdvcmtNZXNzYWdlKHsgZGF0YSB9KSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgZGVidWdbJ3RocmVhZHMnXSgnUmVjZWl2ZWQgbmV3IHdvcmsgbWVzc2FnZScsIHRoaXMsIGRhdGEpO1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHIgPSB5aWVsZCBiYWNrZW5kQXN5bmNNZXRob2RzW2RhdGEubXNnXShkYXRhLCB0aGlzKTtcbiAgICAgICAgICAgIGRlYnVnWyd0aHJlYWRzJ10oJ29wZXJhdGlvbiBzdWNjZXNzZnVsJywgdGhpcywgcik7XG4gICAgICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMubG9jaywgMCwgcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMubG9jaywgMCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgQXRvbWljcy5ub3RpZnkodGhpcy5sb2NrLCAwKTtcbiAgICB9KTtcbn1cbmdsb2JhbFRoaXMub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgZGVidWdbJ3RocmVhZHMnXSgnUmVjZWl2ZWQgbmV3IGNvbnRyb2wgbWVzc2FnZScsIGRhdGEpO1xuICAgIHN3aXRjaCAoZGF0YS5tc2cpIHtcbiAgICAgICAgY2FzZSAnaGFuZHNoYWtlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG0gPSBuZXcgU2hhcmVkQXJyYXlCdWZmZXIob3B0aW9ucy5tYXhQYWdlU2l6ZSArIEludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2sgPSBuZXcgSW50MzJBcnJheShzaG0sIG9wdGlvbnMubWF4UGFnZVNpemUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHNobSwgMCwgb3B0aW9ucy5tYXhQYWdlU2l6ZSk7XG4gICAgICAgICAgICAgICAgbG9ja1swXSA9IDB4ZmZmZjtcbiAgICAgICAgICAgICAgICBjb25zdW1lcnNbZGF0YS5pZF0gPSB7IGlkOiBkYXRhLmlkLCBwb3J0OiBkYXRhLnBvcnQsIHNobSwgbG9jaywgYnVmZmVyIH07XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2UoeyBtc2c6ICdhY2snLCBpZDogZGF0YS5pZCwgc2htLCBsb2NrIH0pO1xuICAgICAgICAgICAgICAgIGRhdGEucG9ydC5vbm1lc3NhZ2UgPSB3b3JrTWVzc2FnZS5iaW5kKGNvbnN1bWVyc1tkYXRhLmlkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgICAgICBvcHRpb25zID0gZGF0YS5vcHRpb25zO1xuICAgICAgICAgICAgY2FjaGUgPSBuZXcgTFJVQ2FjaGUoe1xuICAgICAgICAgICAgICAgIG1heFNpemU6IG9wdGlvbnMuY2FjaGVTaXplICogMTAyNCxcbiAgICAgICAgICAgICAgICBzaXplQ2FsY3VsYXRpb246ICh2YWx1ZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB2YWx1ZS5ieXRlTGVuZ3RoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiA0OyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgICAgICBwb3N0TWVzc2FnZSh7IG1zZzogJ2FjaycgfSk7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWVzc2FnZSByZWNlaXZlZCBieSBiYWNrZW5kOiAke2RhdGF9YCk7XG4gICAgfVxufTtcbmlmICh0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTaGFyZWRBcnJheUJ1ZmZlciBpcyBub3QgYXZhaWxhYmxlLiAnICtcbiAgICAgICAgJ0lmIHlvdXIgYnJvd3NlciBzdXBwb3J0cyBpdCwgdGhlIHdlYnNlcnZlciBtdXN0IHNlbmQgJyArXG4gICAgICAgICdcIkNyb3NzLU9yaWdpbi1PcGVuZXItUG9saWN5OiBzYW1lLW9yaWdpbiBcIicgK1xuICAgICAgICAnYW5kIFwiQ3Jvc3MtT3JpZ2luLUVtYmVkZGVyLVBvbGljeTogcmVxdWlyZS1jb3JwXCIgaGVhZGVycy4nKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZmcy1odHRwLXdvcmtlci5qcy5tYXAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIHRoZSBzdGFydHVwIGZ1bmN0aW9uXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcblx0dmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbODQyXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTU5KSkpXG5cdF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xufTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rcyBhbmQgc2libGluZyBjaHVua3MgZm9yIHRoZSBlbnRyeXBvaW50XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGNodW5rc1xuLy8gXCIxXCIgbWVhbnMgXCJhbHJlYWR5IGxvYWRlZFwiXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ1NTk6IDFcbn07XG5cbi8vIGltcG9ydFNjcmlwdHMgY2h1bmsgbG9hZGluZ1xudmFyIGluc3RhbGxDaHVuayA9IChkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0d2hpbGUoY2h1bmtJZHMubGVuZ3RoKVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkcy5wb3AoKV0gPSAxO1xuXHRwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcbn07XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaSA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHQvLyBcIjFcIiBpcyB0aGUgc2lnbmFsIGZvciBcImFscmVhZHkgbG9hZGVkXCJcblx0aWYoIWluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdGlmKHRydWUpIHsgLy8gYWxsIGNodW5rcyBoYXZlIEpTXG5cdFx0XHRpbXBvcnRTY3JpcHRzKF9fd2VicGFja19yZXF1aXJlX18ucCArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKSk7XG5cdFx0fVxuXHR9XG59O1xuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua3NxbGl0ZV93YXNtX2h0dHBcIl0gPSBzZWxmW1wid2VicGFja0NodW5rc3FsaXRlX3dhc21faHR0cFwiXSB8fCBbXTtcbnZhciBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiA9IGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gaW5zdGFsbENodW5rO1xuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0IiwiLy8gcnVuIHN0YXJ0dXBcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJuZXh0IiwiZGVidWdPcHRpb25zIiwiZGVidWdTeXMiLCJkZWJ1ZyIsImQiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJiaW5kIiwic3dhcE5lZWRlZCIsImFiIiwiQXJyYXlCdWZmZXIiLCJ1OCIsIlVpbnQ4QXJyYXkiLCJ1MTYiLCJVaW50MTZBcnJheSIsIkVycm9yIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5Iiwib3B0aW9ucyIsImNvbnN1bWVycyIsImZpbGVzIiwibWF4IiwiY2FjaGUiLCJuZXh0SWQiLCJiYWNrZW5kQXN5bmNNZXRob2RzIiwieE9wZW4iLCJtc2ciLCJ0aGlzIiwiZW50cnkiLCJnZXQiLCJ1cmwiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJPYmplY3QiLCJhc3NpZ24iLCJoZWFkIiwid2FybiIsImlkIiwic2l6ZSIsIkJpZ0ludCIsInBhZ2VTaXplIiwic2V0IiwieEFjY2VzcyIsImNvbnN1bWVyIiwiVWludDMyQXJyYXkiLCJzaG0iLCJyIiwiX2EiLCJ4UmVhZCIsInBhZ2VEYXRhQnVmZmVyIiwib2Zmc2V0IiwibiIsImJ1ZmZlciIsInBhZ2VEYXRhIiwiZGF0YSIsImkiLCJsZW5ndGgiLCJudG9oMTYiLCJkZWxldGUiLCJtYXhQYWdlU2l6ZSIsImxlbiIsInBhZ2UiLCJwYWdlU3RhcnQiLCJjYWNoZUlkIiwibmV3UGFnZVN0YXJ0IiwiY2h1bmtTaXplIiwicHJldiIsIk51bWJlciIsImJ5dGVMZW5ndGgiLCJwYWdlcyIsInJlc3AiLCJhcnJheUJ1ZmZlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYWdlT2Zmc2V0Iiwic3ViYXJyYXkiLCJ4RmlsZXNpemUiLCJmaWQiLCJCaWdJbnQ2NEFycmF5Iiwid29ya01lc3NhZ2UiLCJBdG9taWNzIiwic3RvcmUiLCJsb2NrIiwiZXJyb3IiLCJub3RpZnkiLCJnbG9iYWxUaGlzIiwib25tZXNzYWdlIiwiU2hhcmVkQXJyYXlCdWZmZXIiLCJJbnQzMkFycmF5IiwiQllURVNfUEVSX0VMRU1FTlQiLCJwb3J0IiwicG9zdE1lc3NhZ2UiLCJtYXhTaXplIiwiY2FjaGVTaXplIiwic2l6ZUNhbGN1bGF0aW9uIiwiY2xvc2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJ4IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIk8iLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImoiLCJrZXlzIiwiZXZlcnkiLCJrZXkiLCJzcGxpY2UiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImYiLCJjaHVua0lkIiwiYWxsIiwicmVkdWNlIiwicHJvbWlzZXMiLCJ1IiwiZyIsIkZ1bmN0aW9uIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwicHVzaCIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInBvcCJdLCJzb3VyY2VSb290IjoiIn0=