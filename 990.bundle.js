(()=>{"use strict";const t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,e="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new n}abort(t=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||t,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},i="function"==typeof AbortSignal,s="function"==typeof e.AbortSignal,n=i?AbortSignal:s?e.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(t){"abort"===t.type&&(this.aborted=!0,this.onabort(t),this._listeners.forEach((e=>e(t)),this))}onabort(){}addEventListener(t,e){"abort"===t&&this._listeners.push(e)}removeEventListener(t,e){"abort"===t&&(this._listeners=this._listeners.filter((t=>t!==e)))}},o=new Set,r=(t,e)=>{const i=`LRU_CACHE_OPTION_${t}`;l(i)&&c(i,`${t} option`,`options.${e}`,g)},a=(t,e)=>{const i=`LRU_CACHE_METHOD_${t}`;if(l(i)){const{prototype:s}=g,{get:n}=Object.getOwnPropertyDescriptor(s,t);c(i,`${t} method`,`cache.${e}()`,n)}},h=(...t)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...t):console.error(...t)},l=t=>!o.has(t),c=(t,e,i,s)=>{o.add(t),h(`The ${e} is deprecated. Please use ${i} instead.`,"DeprecationWarning",t,s)},d=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),u=t=>d(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?f:null:null;class f extends Array{constructor(t){super(t),this.fill(0)}}class p{constructor(t){if(0===t)return[];const e=u(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class g{constructor(t={}){const{max:e=0,ttl:i,ttlResolution:s=1,ttlAutopurge:n,updateAgeOnGet:a,updateAgeOnHas:c,allowStale:f,dispose:m,disposeAfter:y,noDisposeOnSet:S,noUpdateTTL:w,maxSize:v=0,maxEntrySize:z=0,sizeCalculation:b,fetchMethod:A,fetchContext:x,noDeleteOnFetchRejection:L,noDeleteOnStaleGet:T,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:k,ignoreFetchAbort:F}=t,{length:O,maxAge:E,stale:C}=t instanceof g?{}:t;if(0!==e&&!d(e))throw new TypeError("max option must be a nonnegative integer");const R=e?u(e):Array;if(!R)throw new Error("invalid max value: "+e);if(this.max=e,this.maxSize=v,this.maxEntrySize=z||this.maxSize,this.sizeCalculation=b||O,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=A||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=x,!this.fetchMethod&&void 0!==x)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new R(e),this.prev=new R(e),this.head=0,this.tail=0,this.free=new p(e),this.initialFill=1,this.size=0,"function"==typeof m&&(this.dispose=m),"function"==typeof y?(this.disposeAfter=y,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!S,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!L,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!F,0!==this.maxEntrySize){if(0!==this.maxSize&&!d(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!d(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!f||!!C,this.noDeleteOnStaleGet=!!T,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!c,this.ttlResolution=d(s)||0===s?s:1,this.ttlAutopurge=!!n,this.ttl=i||E||0,this.ttl){if(!d(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const t="LRU_CACHE_UNBOUNDED";l(t)&&(o.add(t),h("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,g))}C&&r("stale","allowStale"),E&&r("maxAge","ttl"),O&&r("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new f(this.max),this.starts=new f(this.max),this.setItemTTL=(e,i,s=t.now())=>{if(this.starts[e]=0!==i?s:0,this.ttls[e]=i,0!==i&&this.ttlAutopurge){const t=setTimeout((()=>{this.isStale(e)&&this.delete(this.keyList[e])}),i+1);t.unref&&t.unref()}},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?t.now():0},this.statusTTL=(t,s)=>{t&&(t.ttl=this.ttls[s],t.start=this.starts[s],t.now=e||i(),t.remainingTTL=t.now+t.ttl-t.start)};let e=0;const i=()=>{const i=t.now();if(this.ttlResolution>0){e=i;const t=setTimeout((()=>e=0),this.ttlResolution);t.unref&&t.unref()}return i};this.getRemainingTTL=t=>{const s=this.keyMap.get(t);return void 0===s?0:0===this.ttls[s]||0===this.starts[s]?1/0:this.starts[s]+this.ttls[s]-(e||i())},this.isStale=t=>0!==this.ttls[t]&&0!==this.starts[t]&&(e||i())-this.starts[t]>this.ttls[t]}updateItemAge(t){}statusTTL(t,e){}setItemTTL(t,e,i){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new f(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,e,i,s)=>{if(this.isBackgroundFetch(e))return 0;if(!d(i)){if(!s)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof s)throw new TypeError("sizeCalculation must be a function");if(i=s(e,t),!d(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.addItemSize=(t,e,i)=>{if(this.sizes[t]=e,this.maxSize){const e=this.maxSize-this.sizes[t];for(;this.calculatedSize>e;)this.evict(!0)}this.calculatedSize+=this.sizes[t],i&&(i.entrySize=e,i.totalCalculatedSize=this.calculatedSize)}}removeItemSize(t){}addItemSize(t,e){}requireSize(t,e,i,s){if(i||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.tail;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.head);)e=this.prev[e]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.head;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.tail);)e=this.next[e]}isValidIndex(t){return void 0!==t&&this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())this.isBackgroundFetch(this.valList[t])||(yield[this.keyList[t],this.valList[t]])}*rentries(){for(const t of this.rindexes())this.isBackgroundFetch(this.valList[t])||(yield[this.keyList[t],this.valList[t]])}*keys(){for(const t of this.indexes())this.isBackgroundFetch(this.valList[t])||(yield this.keyList[t])}*rkeys(){for(const t of this.rindexes())this.isBackgroundFetch(this.valList[t])||(yield this.keyList[t])}*values(){for(const t of this.indexes())this.isBackgroundFetch(this.valList[t])||(yield this.valList[t])}*rvalues(){for(const t of this.rindexes())this.isBackgroundFetch(this.valList[t])||(yield this.valList[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const i of this.indexes())if(t(this.valList[i],this.keyList[i],this))return this.get(this.keyList[i],e)}forEach(t,e=this){for(const i of this.indexes())t.call(e,this.valList[i],this.keyList[i],this)}rforEach(t,e=this){for(const i of this.rindexes())t.call(e,this.valList[i],this.keyList[i],this)}get prune(){return a("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const e of this.rindexes({allowStale:!0}))this.isStale(e)&&(this.delete(this.keyList[e]),t=!0);return t}dump(){const e=[];for(const i of this.indexes({allowStale:!0})){const s=this.keyList[i],n=this.valList[i],o=this.isBackgroundFetch(n)?n.__staleWhileFetching:n;if(void 0===o)continue;const r={value:o};if(this.ttls){r.ttl=this.ttls[i];const e=t.now()-this.starts[i];r.start=Math.floor(Date.now()-e)}this.sizes&&(r.size=this.sizes[i]),e.unshift([s,r])}return e}load(e){this.clear();for(const[i,s]of e){if(s.start){const e=Date.now()-s.start;s.start=t.now()-e}this.set(i,s.value,s)}}dispose(t,e,i){}set(t,e,{ttl:i=this.ttl,start:s,noDisposeOnSet:n=this.noDisposeOnSet,size:o=0,sizeCalculation:r=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL,status:h}={}){if(o=this.requireSize(t,e,o,r),this.maxEntrySize&&o>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.delete(t),this;let l=0===this.size?void 0:this.keyMap.get(t);if(void 0===l)l=this.newIndex(),this.keyList[l]=t,this.valList[l]=e,this.keyMap.set(t,l),this.next[this.tail]=l,this.prev[l]=this.tail,this.tail=l,this.size++,this.addItemSize(l,o,h),h&&(h.set="add"),a=!1;else{this.moveToTail(l);const i=this.valList[l];if(e!==i){if(this.isBackgroundFetch(i)?i.__abortController.abort(new Error("replaced")):n||(this.dispose(i,t,"set"),this.disposeAfter&&this.disposed.push([i,t,"set"])),this.removeItemSize(l),this.valList[l]=e,this.addItemSize(l,o,h),h){h.set="replace";const t=i&&this.isBackgroundFetch(i)?i.__staleWhileFetching:i;void 0!==t&&(h.oldValue=t)}}else h&&(h.set="update")}if(0===i||0!==this.ttl||this.ttls||this.initializeTTLTracking(),a||this.setItemTTL(l,i,s),this.statusTTL(h,l),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const e=this.head,i=this.keyList[e],s=this.valList[e];return this.isBackgroundFetch(s)?s.__abortController.abort(new Error("evicted")):(this.dispose(s,i,"evict"),this.disposeAfter&&this.disposed.push([s,i,"evict"])),this.removeItemSize(e),t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(i),this.size--,e}has(t,{updateAgeOnHas:e=this.updateAgeOnHas,status:i}={}){const s=this.keyMap.get(t);if(void 0!==s){if(!this.isStale(s))return e&&this.updateItemAge(s),i&&(i.has="hit"),this.statusTTL(i,s),!0;i&&(i.has="stale",this.statusTTL(i,s))}else i&&(i.has="miss");return!1}peek(t,{allowStale:e=this.allowStale}={}){const i=this.keyMap.get(t);if(void 0!==i&&(e||!this.isStale(i))){const t=this.valList[i];return this.isBackgroundFetch(t)?t.__staleWhileFetching:t}}backgroundFetch(t,i,s,n){const o=void 0===i?void 0:this.valList[i];if(this.isBackgroundFetch(o))return o;const r=new e;s.signal&&s.signal.addEventListener("abort",(()=>r.abort(s.signal.reason)));const a={signal:r.signal,options:s,context:n},h=(e,n=!1)=>{const{aborted:o}=r.signal,h=s.ignoreFetchAbort&&void 0!==e;return s.status&&(o&&!n?(s.status.fetchAborted=!0,s.status.fetchError=r.signal.reason,h&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),!o||h||n?(this.valList[i]===c&&(void 0===e?c.__staleWhileFetching?this.valList[i]=c.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,e,a.options))),e):l(r.signal.reason)},l=e=>{const{aborted:n}=r.signal,o=n&&s.allowStaleOnFetchAbort,a=o||s.allowStaleOnFetchRejection,h=a||s.noDeleteOnFetchRejection;if(this.valList[i]===c&&(h&&void 0!==c.__staleWhileFetching?o||(this.valList[i]=c.__staleWhileFetching):this.delete(t)),a)return s.status&&void 0!==c.__staleWhileFetching&&(s.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw e};s.status&&(s.status.fetchDispatched=!0);const c=new Promise(((e,i)=>{this.fetchMethod(t,o,a).then((t=>e(t)),i),r.signal.addEventListener("abort",(()=>{s.ignoreFetchAbort&&!s.allowStaleOnFetchAbort||(e(),s.allowStaleOnFetchAbort&&(e=t=>h(t,!0)))}))})).then(h,(t=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=t),l(t))));return c.__abortController=r,c.__staleWhileFetching=o,c.__returned=null,void 0===i?(this.set(t,c,{...a.options,status:void 0}),i=this.keyMap.get(t)):this.valList[i]=c,c}isBackgroundFetch(t){return t&&"object"==typeof t&&"function"==typeof t.then&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||null===t.__returned)}async fetch(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:r=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:c=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:u=this.allowStaleOnFetchAbort,fetchContext:f=this.fetchContext,forceRefresh:p=!1,status:g,signal:m}={}){if(!this.fetchMethod)return g&&(g.fetch="get"),this.get(t,{allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:g});const y={allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:n,noDisposeOnSet:o,size:r,sizeCalculation:a,noUpdateTTL:h,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:u,ignoreFetchAbort:d,status:g,signal:m};let S=this.keyMap.get(t);if(void 0===S){g&&(g.fetch="miss");const e=this.backgroundFetch(t,S,y,f);return e.__returned=e}{const s=this.valList[S];if(this.isBackgroundFetch(s)){const t=e&&void 0!==s.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?s.__staleWhileFetching:s.__returned=s}const n=this.isStale(S);if(!p&&!n)return g&&(g.fetch="hit"),this.moveToTail(S),i&&this.updateItemAge(S),this.statusTTL(g,S),s;const o=this.backgroundFetch(t,S,y,f),r=void 0!==o.__staleWhileFetching,a=r&&e;return g&&(g.fetch=r&&n?"stale":"refresh",a&&n&&(g.returnedStale=!0)),a?o.__staleWhileFetching:o.__returned=o}}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:n}={}){const o=this.keyMap.get(t);if(void 0!==o){const r=this.valList[o],a=this.isBackgroundFetch(r);return this.statusTTL(n,o),this.isStale(o)?(n&&(n.get="stale"),a?(n&&(n.returnedStale=e&&void 0!==r.__staleWhileFetching),e?r.__staleWhileFetching:void 0):(s||this.delete(t),n&&(n.returnedStale=e),e?r:void 0)):(n&&(n.get="hit"),a?r.__staleWhileFetching:(this.moveToTail(o),i&&this.updateItemAge(o),r))}n&&(n.get="miss")}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return a("del","delete"),this.delete}delete(t){let e=!1;if(0!==this.size){const i=this.keyMap.get(t);if(void 0!==i)if(e=!0,1===this.size)this.clear();else{this.removeItemSize(i);const e=this.valList[i];this.isBackgroundFetch(e)?e.__abortController.abort(new Error("deleted")):(this.dispose(e,t,"delete"),this.disposeAfter&&this.disposed.push([e,t,"delete"])),this.keyMap.delete(t),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return e}clear(){for(const t of this.rindexes({allowStale:!0})){const e=this.valList[t];if(this.isBackgroundFetch(e))e.__abortController.abort(new Error("deleted"));else{const i=this.keyList[t];this.dispose(e,i,"delete"),this.disposeAfter&&this.disposed.push([e,i,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return a("reset","clear"),this.clear}get length(){return((t,e)=>{const i=`LRU_CACHE_PROPERTY_${t}`;if(l(i)){const{prototype:e}=g,{get:s}=Object.getOwnPropertyDescriptor(e,t);c(i,`${t} property`,"cache.size",s)}})("length"),this.size}static get AbortController(){return e}static get AbortSignal(){return n}}const m=g,y=function(){const t=new ArrayBuffer(2),e=new Uint8Array(t),i=new Uint16Array(t);if(e[0]=240,e[1]=13,61453==i[0])return console.log("System is Big-Endian"),!1;if(3568==i[0])return console.log("System is Little-Endian"),!0;throw new Error(`Failed determining endianness: ${i}`)}(),S=[]||0,w=["threads","vfs","cache"],v={};for(const t of w)v[t]=S.includes(t)?console.debug.bind(console):()=>{};var z=function(t,e,i,s){return new(i||(i=Promise))((function(n,o){function r(t){try{h(s.next(t))}catch(t){o(t)}}function a(t){try{h(s.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}h((s=s.apply(t,e||[])).next())}))};let b;const A={},x=new m({max:32});let L,T=1;const _={xOpen:function(t){var e;return z(this,void 0,void 0,(function*(){if(x.has(t.url))return 0;const i=Object.assign({},b.fetchOptions);i.method||(i.method="HEAD"),i.headers=Object.assign({},null!==(e=i.headers)&&void 0!==e?e:{});const s=yield fetch(t.url,i);return"bytes"!==s.headers.get("Accept-Ranges")&&console.warn(`Server for ${t.url} does not advertise 'Accept-Ranges'. If the server supports it, in order to remove this message, add "Accept-Ranges: bytes". Additionally, if using CORS, add "Access-Control-Expose-Headers: *".`),x.set(t.url,{url:t.url,id:T++,size:BigInt(s.headers.get("Content-Length")),pageSize:null}),0}))},xAccess:function(t,e){return z(this,void 0,void 0,(function*(){const i=new Uint32Array(e.shm,0,1);try{const s=yield _.xOpen(t,e);i[0]=0===s?1:0}catch(t){i[0]=0}return 0}))},xRead:function(t,e){var i;return z(this,void 0,void 0,(function*(){const s=x.get(t.url);if(!s)throw new Error(`File ${t.url} not open`);if(!s.pageSize){s.pageSize=1024;const e=new ArrayBuffer(2),i=yield _.xRead({msg:"xRead",url:t.url,offset:BigInt(16),n:2},{buffer:new Uint8Array(e)}),n=new Uint16Array(e);if(0!==i)return i;if(function(t){if(y)for(let e=0;e<t.length;e++)t[e]=(65280&t[e])>>8|(255&t[e])<<8}(n),s.pageSize=n[0],1024!=s.pageSize&&(console.warn(`Page size for ${t.url} is ${s.pageSize}, recommended size is 1024`),L.delete(s.id+"|0")),s.pageSize>b.maxPageSize)throw new Error(`${s.pageSize} is over the maximum configured ${b.maxPageSize}`)}const n=BigInt(s.pageSize),o=BigInt(t.n),r=t.offset/n;r*n!==t.offset&&console.warn(`Read chunk ${t.offset} is not page-aligned`);let a=r*n;if(a+n<t.offset+o)throw new Error(`Read chunk ${t.offset}:${t.n} spans across a page-boundary`);const h=s.id+"|"+r;let l=L.get(h);if(l instanceof Promise&&(l=yield l),"number"==typeof l){v.cache(`cache hit (multi-page segment) for ${t.url}:${r}`);const e=BigInt(l)*n;l=L.get(s.id+"|"+l),l instanceof Promise&&(l=yield l),l instanceof Uint8Array?a=e:l=void 0}if(void 0===l){v.cache(`cache miss for ${t.url}:${r}`);let e=s.pageSize,n=r>0&&L.get(s.id+"|"+(Number(r)-1));n&&(n instanceof Promise&&(n=yield n),"number"==typeof n&&(n=L.get(s.id+"|"+n)),n instanceof Promise&&(n=yield n),n instanceof Uint8Array&&(e=2*n.byteLength,v.cache(`downloading super page of size ${e}`)));const o=e/s.pageSize,c=Object.assign({},b.fetchOptions);c.method||(c.method="GET"),c.headers=Object.assign({},null!==(i=c.headers)&&void 0!==i?i:{}),c.headers.Range=`bytes=${a}-${a+BigInt(e-1)}`;const d=fetch(t.url,c).then((t=>t.arrayBuffer())).then((t=>new Uint8Array(t)));L.set(h,d);for(let t=Number(r)+1;t<Number(r)+o;t++)L.set(s.id+"|"+t,d.then((()=>Number(r))));if(l=yield d,!(l instanceof Uint8Array)||0===l.length)throw new Error(`Invalid HTTP response received: ${JSON.stringify(d)}`);L.set(h,l);for(let t=Number(r)+1;t<Number(r)+o;t++)L.set(s.id+"|"+t,Number(r))}else v.cache(`cache hit for ${t.url}:${r}`);const c=Number(t.offset-a);return e.buffer.set(l.subarray(c,c+t.n)),0}))},xFilesize:function(t,e){return z(this,void 0,void 0,(function*(){const i=x.get(t.url);if(!i)throw new Error(`File ${t.fid} not open`);return new BigInt64Array(e.shm,0,1)[0]=i.size,0}))}};function k({data:t}){return z(this,void 0,void 0,(function*(){let e;v.threads("Received new work message",this,t);try{e=yield _[t.msg](t,this),v.threads("operation successful",this,e),Atomics.store(this.lock,0,e)}catch(t){console.error(t),Atomics.store(this.lock,0,1)}Atomics.notify(this.lock,0)}))}if(globalThis.onmessage=({data:t})=>{switch(v.threads("Received new control message",t),t.msg){case"handshake":{const e=new SharedArrayBuffer(b.maxPageSize+Int32Array.BYTES_PER_ELEMENT),i=new Int32Array(e,b.maxPageSize),s=new Uint8Array(e,0,b.maxPageSize);i[0]=65535,A[t.id]={id:t.id,port:t.port,shm:e,lock:i,buffer:s},postMessage({msg:"ack",id:t.id,shm:e,lock:i}),t.port.onmessage=k.bind(A[t.id])}break;case"init":b=t.options,L=new m({maxSize:1024*b.cacheSize,sizeCalculation:t=>{var e;return null!==(e=t.byteLength)&&void 0!==e?e:4}});break;case"close":postMessage({msg:"ack"}),close();break;default:throw new Error(`Invalid message received by backend: ${t}`)}},"undefined"==typeof SharedArrayBuffer)throw new Error('SharedArrayBuffer is not available. If your browser supports it, the webserver must send "Cross-Origin-Opener-Policy: same-origin "and "Cross-Origin-Embedder-Policy: require-corp" headers.')})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WixHQUFJSyxNQUFLOEIsU0FDNUN2QixFQUFLOEIsS0FBS0osVUFBWU4sRUFBWTFELEtBQUtjLEVBQVV3QixFQUFLWixJQUMxRCxDQUNBLE1BQ0osSUFBSyxPQUNEdkwsRUFBVW1NLEVBQUtuTSxRQUNmNkssRUFBUSxJQUFJLEVBQVMsQ0FDakJsSyxRQUE2QixLQUFwQlgsRUFBUW1PLFVBQ2pCdE4sZ0JBQWtCOEUsSUFBWSxJQUFJdUYsRUFBSSxPQUFtQyxRQUEzQkEsRUFBS3ZGLEVBQU1pSCxrQkFBK0IsSUFBUDFCLEVBQWdCQSxFQUFLLENBQUMsSUFFM0csTUFDSixJQUFLLFFBQ0RnRCxZQUFZLENBQUVqRCxJQUFLLFFBQ25CbUQsUUFDQSxNQUNKLFFBQ0ksTUFBTSxJQUFJdFMsTUFBTSx3Q0FBd0NxUSxLQUNoRSxFQUU2QixvQkFBdEIyQixrQkFDUCxNQUFNLElBQUloUyxNQUFNLCtMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3FsaXRlLXdhc20taHR0cC8uL25vZGVfbW9kdWxlcy9scnUtY2FjaGUvaW5kZXgubWpzIiwid2VicGFjazovL3NxbGl0ZS13YXNtLWh0dHAvLi9kaXN0L2VuZGlhbm5lc3MuanMiLCJ3ZWJwYWNrOi8vc3FsaXRlLXdhc20taHR0cC8uL2Rpc3QvdmZzLWh0dHAtdHlwZXMuanMiLCJ3ZWJwYWNrOi8vc3FsaXRlLXdhc20taHR0cC8uL2Rpc3QvdmZzLWh0dHAtd29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBlcmYgPVxuICB0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICdvYmplY3QnICYmXG4gIHBlcmZvcm1hbmNlICYmXG4gIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbidcbiAgICA/IHBlcmZvcm1hbmNlXG4gICAgOiBEYXRlXG5cbmNvbnN0IGhhc0Fib3J0Q29udHJvbGxlciA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09ICdmdW5jdGlvbidcblxuLy8gbWluaW1hbCBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBwb2x5ZmlsbFxuLy8gdGhpcyBkb2Vzbid0IGhhdmUgbmVhcmx5IGFsbCB0aGUgY2hlY2tzIGFuZCB3aGF0bm90IHRoYXRcbi8vIGFjdHVhbCBBYm9ydENvbnRyb2xsZXIvU2lnbmFsIGhhcywgYnV0IGl0J3MgZW5vdWdoIGZvclxuLy8gb3VyIHB1cnBvc2VzLCBhbmQgaWYgdXNlZCBwcm9wZXJseSwgYmVoYXZlcyB0aGUgc2FtZS5cbmNvbnN0IEFDID0gaGFzQWJvcnRDb250cm9sbGVyXG4gID8gQWJvcnRDb250cm9sbGVyXG4gIDogY2xhc3MgQWJvcnRDb250cm9sbGVyIHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNpZ25hbCA9IG5ldyBBUygpXG4gICAgICB9XG4gICAgICBhYm9ydChyZWFzb24gPSBuZXcgRXJyb3IoJ1RoaXMgb3BlcmF0aW9uIHdhcyBhYm9ydGVkJykpIHtcbiAgICAgICAgdGhpcy5zaWduYWwucmVhc29uID0gdGhpcy5zaWduYWwucmVhc29uIHx8IHJlYXNvblxuICAgICAgICB0aGlzLnNpZ25hbC5hYm9ydGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnYWJvcnQnLFxuICAgICAgICAgIHRhcmdldDogdGhpcy5zaWduYWwsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG5jb25zdCBoYXNBYm9ydFNpZ25hbCA9IHR5cGVvZiBBYm9ydFNpZ25hbCA9PT0gJ2Z1bmN0aW9uJ1xuLy8gU29tZSBwb2x5ZmlsbHMgcHV0IHRoaXMgb24gdGhlIEFDIGNsYXNzLCBub3QgZ2xvYmFsXG5jb25zdCBoYXNBQ0Fib3J0U2lnbmFsID0gdHlwZW9mIEFDLkFib3J0U2lnbmFsID09PSAnZnVuY3Rpb24nXG5jb25zdCBBUyA9IGhhc0Fib3J0U2lnbmFsXG4gID8gQWJvcnRTaWduYWxcbiAgOiBoYXNBQ0Fib3J0U2lnbmFsXG4gID8gQUMuQWJvcnRDb250cm9sbGVyXG4gIDogY2xhc3MgQWJvcnRTaWduYWwge1xuICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVhc29uID0gdW5kZWZpbmVkXG4gICAgICAgIHRoaXMuYWJvcnRlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdXG4gICAgICB9XG4gICAgICBkaXNwYXRjaEV2ZW50KGUpIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ2Fib3J0Jykge1xuICAgICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLm9uYWJvcnQoZSlcbiAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaChmID0+IGYoZSksIHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9uYWJvcnQoKSB7fVxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihldiwgZm4pIHtcbiAgICAgICAgaWYgKGV2ID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goZm4pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXYsIGZuKSB7XG4gICAgICAgIGlmIChldiA9PT0gJ2Fib3J0Jykge1xuICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5maWx0ZXIoZiA9PiBmICE9PSBmbilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuY29uc3Qgd2FybmVkID0gbmV3IFNldCgpXG5jb25zdCBkZXByZWNhdGVkT3B0aW9uID0gKG9wdCwgaW5zdGVhZCkgPT4ge1xuICBjb25zdCBjb2RlID0gYExSVV9DQUNIRV9PUFRJT05fJHtvcHR9YFxuICBpZiAoc2hvdWxkV2Fybihjb2RlKSkge1xuICAgIHdhcm4oY29kZSwgYCR7b3B0fSBvcHRpb25gLCBgb3B0aW9ucy4ke2luc3RlYWR9YCwgTFJVQ2FjaGUpXG4gIH1cbn1cbmNvbnN0IGRlcHJlY2F0ZWRNZXRob2QgPSAobWV0aG9kLCBpbnN0ZWFkKSA9PiB7XG4gIGNvbnN0IGNvZGUgPSBgTFJVX0NBQ0hFX01FVEhPRF8ke21ldGhvZH1gXG4gIGlmIChzaG91bGRXYXJuKGNvZGUpKSB7XG4gICAgY29uc3QgeyBwcm90b3R5cGUgfSA9IExSVUNhY2hlXG4gICAgY29uc3QgeyBnZXQgfSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG90eXBlLCBtZXRob2QpXG4gICAgd2Fybihjb2RlLCBgJHttZXRob2R9IG1ldGhvZGAsIGBjYWNoZS4ke2luc3RlYWR9KClgLCBnZXQpXG4gIH1cbn1cbmNvbnN0IGRlcHJlY2F0ZWRQcm9wZXJ0eSA9IChmaWVsZCwgaW5zdGVhZCkgPT4ge1xuICBjb25zdCBjb2RlID0gYExSVV9DQUNIRV9QUk9QRVJUWV8ke2ZpZWxkfWBcbiAgaWYgKHNob3VsZFdhcm4oY29kZSkpIHtcbiAgICBjb25zdCB7IHByb3RvdHlwZSB9ID0gTFJVQ2FjaGVcbiAgICBjb25zdCB7IGdldCB9ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIGZpZWxkKVxuICAgIHdhcm4oY29kZSwgYCR7ZmllbGR9IHByb3BlcnR5YCwgYGNhY2hlLiR7aW5zdGVhZH1gLCBnZXQpXG4gIH1cbn1cblxuY29uc3QgZW1pdFdhcm5pbmcgPSAoLi4uYSkgPT4ge1xuICB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiZcbiAgcHJvY2VzcyAmJlxuICB0eXBlb2YgcHJvY2Vzcy5lbWl0V2FybmluZyA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gcHJvY2Vzcy5lbWl0V2FybmluZyguLi5hKVxuICAgIDogY29uc29sZS5lcnJvciguLi5hKVxufVxuXG5jb25zdCBzaG91bGRXYXJuID0gY29kZSA9PiAhd2FybmVkLmhhcyhjb2RlKVxuXG5jb25zdCB3YXJuID0gKGNvZGUsIHdoYXQsIGluc3RlYWQsIGZuKSA9PiB7XG4gIHdhcm5lZC5hZGQoY29kZSlcbiAgY29uc3QgbXNnID0gYFRoZSAke3doYXR9IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJHtpbnN0ZWFkfSBpbnN0ZWFkLmBcbiAgZW1pdFdhcm5pbmcobXNnLCAnRGVwcmVjYXRpb25XYXJuaW5nJywgY29kZSwgZm4pXG59XG5cbmNvbnN0IGlzUG9zSW50ID0gbiA9PiBuICYmIG4gPT09IE1hdGguZmxvb3IobikgJiYgbiA+IDAgJiYgaXNGaW5pdGUobilcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBUaGlzIGlzIGEgbGl0dGxlIGJpdCByaWRpY3Vsb3VzLCB0YmguXG4gKiBUaGUgbWF4aW11bSBhcnJheSBsZW5ndGggaXMgMl4zMi0xIG9yIHRoZXJlYWJvdXRzIG9uIG1vc3QgSlMgaW1wbHMuXG4gKiBBbmQgd2VsbCBiZWZvcmUgdGhhdCBwb2ludCwgeW91J3JlIGNhY2hpbmcgdGhlIGVudGlyZSB3b3JsZCwgSSBtZWFuLFxuICogdGhhdCdzIH4zMkdCIG9mIGp1c3QgaW50ZWdlcnMgZm9yIHRoZSBuZXh0L3ByZXYgbGlua3MsIHBsdXMgd2hhdGV2ZXJcbiAqIGVsc2UgdG8gaG9sZCB0aGF0IG1hbnkga2V5cyBhbmQgdmFsdWVzLiAgSnVzdCBmaWxsaW5nIHRoZSBtZW1vcnkgd2l0aFxuICogemVyb2VzIGF0IGluaXQgdGltZSBpcyBicnV0YWwgd2hlbiB5b3UgZ2V0IHRoYXQgYmlnLlxuICogQnV0IHdoeSBub3QgYmUgY29tcGxldGU/XG4gKiBNYXliZSBpbiB0aGUgZnV0dXJlLCB0aGVzZSBsaW1pdHMgd2lsbCBoYXZlIGV4cGFuZGVkLiAqL1xuY29uc3QgZ2V0VWludEFycmF5ID0gbWF4ID0+XG4gICFpc1Bvc0ludChtYXgpXG4gICAgPyBudWxsXG4gICAgOiBtYXggPD0gTWF0aC5wb3coMiwgOClcbiAgICA/IFVpbnQ4QXJyYXlcbiAgICA6IG1heCA8PSBNYXRoLnBvdygyLCAxNilcbiAgICA/IFVpbnQxNkFycmF5XG4gICAgOiBtYXggPD0gTWF0aC5wb3coMiwgMzIpXG4gICAgPyBVaW50MzJBcnJheVxuICAgIDogbWF4IDw9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gICAgPyBaZXJvQXJyYXlcbiAgICA6IG51bGxcblxuY2xhc3MgWmVyb0FycmF5IGV4dGVuZHMgQXJyYXkge1xuICBjb25zdHJ1Y3RvcihzaXplKSB7XG4gICAgc3VwZXIoc2l6ZSlcbiAgICB0aGlzLmZpbGwoMClcbiAgfVxufVxuXG5jbGFzcyBTdGFjayB7XG4gIGNvbnN0cnVjdG9yKG1heCkge1xuICAgIGlmIChtYXggPT09IDApIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBjb25zdCBVaW50QXJyYXkgPSBnZXRVaW50QXJyYXkobWF4KVxuICAgIHRoaXMuaGVhcCA9IG5ldyBVaW50QXJyYXkobWF4KVxuICAgIHRoaXMubGVuZ3RoID0gMFxuICB9XG4gIHB1c2gobikge1xuICAgIHRoaXMuaGVhcFt0aGlzLmxlbmd0aCsrXSA9IG5cbiAgfVxuICBwb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhcFstLXRoaXMubGVuZ3RoXVxuICB9XG59XG5cbmNsYXNzIExSVUNhY2hlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgbWF4ID0gMCxcbiAgICAgIHR0bCxcbiAgICAgIHR0bFJlc29sdXRpb24gPSAxLFxuICAgICAgdHRsQXV0b3B1cmdlLFxuICAgICAgdXBkYXRlQWdlT25HZXQsXG4gICAgICB1cGRhdGVBZ2VPbkhhcyxcbiAgICAgIGFsbG93U3RhbGUsXG4gICAgICBkaXNwb3NlLFxuICAgICAgZGlzcG9zZUFmdGVyLFxuICAgICAgbm9EaXNwb3NlT25TZXQsXG4gICAgICBub1VwZGF0ZVRUTCxcbiAgICAgIG1heFNpemUgPSAwLFxuICAgICAgbWF4RW50cnlTaXplID0gMCxcbiAgICAgIHNpemVDYWxjdWxhdGlvbixcbiAgICAgIGZldGNoTWV0aG9kLFxuICAgICAgZmV0Y2hDb250ZXh0LFxuICAgICAgbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uLFxuICAgICAgbm9EZWxldGVPblN0YWxlR2V0LFxuICAgICAgYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb24sXG4gICAgICBhbGxvd1N0YWxlT25GZXRjaEFib3J0LFxuICAgICAgaWdub3JlRmV0Y2hBYm9ydCxcbiAgICB9ID0gb3B0aW9uc1xuXG4gICAgLy8gZGVwcmVjYXRlZCBvcHRpb25zLCBkb24ndCB0cmlnZ2VyIGEgd2FybmluZyBmb3IgZ2V0dGluZyB0aGVtIGlmXG4gICAgLy8gdGhlIHRoaW5nIGJlaW5nIHBhc3NlZCBpbiBpcyBhbm90aGVyIExSVUNhY2hlIHdlJ3JlIGNvcHlpbmcuXG4gICAgY29uc3QgeyBsZW5ndGgsIG1heEFnZSwgc3RhbGUgfSA9XG4gICAgICBvcHRpb25zIGluc3RhbmNlb2YgTFJVQ2FjaGUgPyB7fSA6IG9wdGlvbnNcblxuICAgIGlmIChtYXggIT09IDAgJiYgIWlzUG9zSW50KG1heCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heCBvcHRpb24gbXVzdCBiZSBhIG5vbm5lZ2F0aXZlIGludGVnZXInKVxuICAgIH1cblxuICAgIGNvbnN0IFVpbnRBcnJheSA9IG1heCA/IGdldFVpbnRBcnJheShtYXgpIDogQXJyYXlcbiAgICBpZiAoIVVpbnRBcnJheSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIG1heCB2YWx1ZTogJyArIG1heClcbiAgICB9XG5cbiAgICB0aGlzLm1heCA9IG1heFxuICAgIHRoaXMubWF4U2l6ZSA9IG1heFNpemVcbiAgICB0aGlzLm1heEVudHJ5U2l6ZSA9IG1heEVudHJ5U2l6ZSB8fCB0aGlzLm1heFNpemVcbiAgICB0aGlzLnNpemVDYWxjdWxhdGlvbiA9IHNpemVDYWxjdWxhdGlvbiB8fCBsZW5ndGhcbiAgICBpZiAodGhpcy5zaXplQ2FsY3VsYXRpb24pIHtcbiAgICAgIGlmICghdGhpcy5tYXhTaXplICYmICF0aGlzLm1heEVudHJ5U2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICdjYW5ub3Qgc2V0IHNpemVDYWxjdWxhdGlvbiB3aXRob3V0IHNldHRpbmcgbWF4U2l6ZSBvciBtYXhFbnRyeVNpemUnXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zaXplQ2FsY3VsYXRpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2l6ZUNhbGN1bGF0aW9uIHNldCB0byBub24tZnVuY3Rpb24nKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZmV0Y2hNZXRob2QgPSBmZXRjaE1ldGhvZCB8fCBudWxsXG4gICAgaWYgKHRoaXMuZmV0Y2hNZXRob2QgJiYgdHlwZW9mIHRoaXMuZmV0Y2hNZXRob2QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdmZXRjaE1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgc3BlY2lmaWVkJ1xuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMuZmV0Y2hDb250ZXh0ID0gZmV0Y2hDb250ZXh0XG4gICAgaWYgKCF0aGlzLmZldGNoTWV0aG9kICYmIGZldGNoQ29udGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnY2Fubm90IHNldCBmZXRjaENvbnRleHQgd2l0aG91dCBmZXRjaE1ldGhvZCdcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLmtleU1hcCA9IG5ldyBNYXAoKVxuICAgIHRoaXMua2V5TGlzdCA9IG5ldyBBcnJheShtYXgpLmZpbGwobnVsbClcbiAgICB0aGlzLnZhbExpc3QgPSBuZXcgQXJyYXkobWF4KS5maWxsKG51bGwpXG4gICAgdGhpcy5uZXh0ID0gbmV3IFVpbnRBcnJheShtYXgpXG4gICAgdGhpcy5wcmV2ID0gbmV3IFVpbnRBcnJheShtYXgpXG4gICAgdGhpcy5oZWFkID0gMFxuICAgIHRoaXMudGFpbCA9IDBcbiAgICB0aGlzLmZyZWUgPSBuZXcgU3RhY2sobWF4KVxuICAgIHRoaXMuaW5pdGlhbEZpbGwgPSAxXG4gICAgdGhpcy5zaXplID0gMFxuXG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLmRpc3Bvc2UgPSBkaXNwb3NlXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZUFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLmRpc3Bvc2VBZnRlciA9IGRpc3Bvc2VBZnRlclxuICAgICAgdGhpcy5kaXNwb3NlZCA9IFtdXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcG9zZUFmdGVyID0gbnVsbFxuICAgICAgdGhpcy5kaXNwb3NlZCA9IG51bGxcbiAgICB9XG4gICAgdGhpcy5ub0Rpc3Bvc2VPblNldCA9ICEhbm9EaXNwb3NlT25TZXRcbiAgICB0aGlzLm5vVXBkYXRlVFRMID0gISFub1VwZGF0ZVRUTFxuICAgIHRoaXMubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uID0gISFub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb25cbiAgICB0aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uID0gISFhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvblxuICAgIHRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCA9ICEhYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydFxuICAgIHRoaXMuaWdub3JlRmV0Y2hBYm9ydCA9ICEhaWdub3JlRmV0Y2hBYm9ydFxuXG4gICAgLy8gTkI6IG1heEVudHJ5U2l6ZSBpcyBzZXQgdG8gbWF4U2l6ZSBpZiBpdCdzIHNldFxuICAgIGlmICh0aGlzLm1heEVudHJ5U2l6ZSAhPT0gMCkge1xuICAgICAgaWYgKHRoaXMubWF4U2l6ZSAhPT0gMCkge1xuICAgICAgICBpZiAoIWlzUG9zSW50KHRoaXMubWF4U2l6ZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ21heFNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkJ1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1Bvc0ludCh0aGlzLm1heEVudHJ5U2l6ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAnbWF4RW50cnlTaXplIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZCdcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgdGhpcy5pbml0aWFsaXplU2l6ZVRyYWNraW5nKClcbiAgICB9XG5cbiAgICB0aGlzLmFsbG93U3RhbGUgPSAhIWFsbG93U3RhbGUgfHwgISFzdGFsZVxuICAgIHRoaXMubm9EZWxldGVPblN0YWxlR2V0ID0gISFub0RlbGV0ZU9uU3RhbGVHZXRcbiAgICB0aGlzLnVwZGF0ZUFnZU9uR2V0ID0gISF1cGRhdGVBZ2VPbkdldFxuICAgIHRoaXMudXBkYXRlQWdlT25IYXMgPSAhIXVwZGF0ZUFnZU9uSGFzXG4gICAgdGhpcy50dGxSZXNvbHV0aW9uID1cbiAgICAgIGlzUG9zSW50KHR0bFJlc29sdXRpb24pIHx8IHR0bFJlc29sdXRpb24gPT09IDBcbiAgICAgICAgPyB0dGxSZXNvbHV0aW9uXG4gICAgICAgIDogMVxuICAgIHRoaXMudHRsQXV0b3B1cmdlID0gISF0dGxBdXRvcHVyZ2VcbiAgICB0aGlzLnR0bCA9IHR0bCB8fCBtYXhBZ2UgfHwgMFxuICAgIGlmICh0aGlzLnR0bCkge1xuICAgICAgaWYgKCFpc1Bvc0ludCh0aGlzLnR0bCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAndHRsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZCdcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgdGhpcy5pbml0aWFsaXplVFRMVHJhY2tpbmcoKVxuICAgIH1cblxuICAgIC8vIGRvIG5vdCBhbGxvdyBjb21wbGV0ZWx5IHVuYm91bmRlZCBjYWNoZXNcbiAgICBpZiAodGhpcy5tYXggPT09IDAgJiYgdGhpcy50dGwgPT09IDAgJiYgdGhpcy5tYXhTaXplID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnQXQgbGVhc3Qgb25lIG9mIG1heCwgbWF4U2l6ZSwgb3IgdHRsIGlzIHJlcXVpcmVkJ1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAoIXRoaXMudHRsQXV0b3B1cmdlICYmICF0aGlzLm1heCAmJiAhdGhpcy5tYXhTaXplKSB7XG4gICAgICBjb25zdCBjb2RlID0gJ0xSVV9DQUNIRV9VTkJPVU5ERUQnXG4gICAgICBpZiAoc2hvdWxkV2Fybihjb2RlKSkge1xuICAgICAgICB3YXJuZWQuYWRkKGNvZGUpXG4gICAgICAgIGNvbnN0IG1zZyA9XG4gICAgICAgICAgJ1RUTCBjYWNoaW5nIHdpdGhvdXQgdHRsQXV0b3B1cmdlLCBtYXgsIG9yIG1heFNpemUgY2FuICcgK1xuICAgICAgICAgICdyZXN1bHQgaW4gdW5ib3VuZGVkIG1lbW9yeSBjb25zdW1wdGlvbi4nXG4gICAgICAgIGVtaXRXYXJuaW5nKG1zZywgJ1VuYm91bmRlZENhY2hlV2FybmluZycsIGNvZGUsIExSVUNhY2hlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGFsZSkge1xuICAgICAgZGVwcmVjYXRlZE9wdGlvbignc3RhbGUnLCAnYWxsb3dTdGFsZScpXG4gICAgfVxuICAgIGlmIChtYXhBZ2UpIHtcbiAgICAgIGRlcHJlY2F0ZWRPcHRpb24oJ21heEFnZScsICd0dGwnKVxuICAgIH1cbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICBkZXByZWNhdGVkT3B0aW9uKCdsZW5ndGgnLCAnc2l6ZUNhbGN1bGF0aW9uJylcbiAgICB9XG4gIH1cblxuICBnZXRSZW1haW5pbmdUVEwoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKGtleSwgeyB1cGRhdGVBZ2VPbkhhczogZmFsc2UgfSkgPyBJbmZpbml0eSA6IDBcbiAgfVxuXG4gIGluaXRpYWxpemVUVExUcmFja2luZygpIHtcbiAgICB0aGlzLnR0bHMgPSBuZXcgWmVyb0FycmF5KHRoaXMubWF4KVxuICAgIHRoaXMuc3RhcnRzID0gbmV3IFplcm9BcnJheSh0aGlzLm1heClcblxuICAgIHRoaXMuc2V0SXRlbVRUTCA9IChpbmRleCwgdHRsLCBzdGFydCA9IHBlcmYubm93KCkpID0+IHtcbiAgICAgIHRoaXMuc3RhcnRzW2luZGV4XSA9IHR0bCAhPT0gMCA/IHN0YXJ0IDogMFxuICAgICAgdGhpcy50dGxzW2luZGV4XSA9IHR0bFxuICAgICAgaWYgKHR0bCAhPT0gMCAmJiB0aGlzLnR0bEF1dG9wdXJnZSkge1xuICAgICAgICBjb25zdCB0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNTdGFsZShpbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKHRoaXMua2V5TGlzdFtpbmRleF0pXG4gICAgICAgICAgfVxuICAgICAgICB9LCB0dGwgKyAxKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAtIHVucmVmKCkgbm90IHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zICovXG4gICAgICAgIGlmICh0LnVucmVmKSB7XG4gICAgICAgICAgdC51bnJlZigpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUl0ZW1BZ2UgPSBpbmRleCA9PiB7XG4gICAgICB0aGlzLnN0YXJ0c1tpbmRleF0gPSB0aGlzLnR0bHNbaW5kZXhdICE9PSAwID8gcGVyZi5ub3coKSA6IDBcbiAgICB9XG5cbiAgICB0aGlzLnN0YXR1c1RUTCA9IChzdGF0dXMsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cy50dGwgPSB0aGlzLnR0bHNbaW5kZXhdXG4gICAgICAgIHN0YXR1cy5zdGFydCA9IHRoaXMuc3RhcnRzW2luZGV4XVxuICAgICAgICBzdGF0dXMubm93ID0gY2FjaGVkTm93IHx8IGdldE5vdygpXG4gICAgICAgIHN0YXR1cy5yZW1haW5pbmdUVEwgPSBzdGF0dXMubm93ICsgc3RhdHVzLnR0bCAtIHN0YXR1cy5zdGFydFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRlYm91bmNlIGNhbGxzIHRvIHBlcmYubm93KCkgdG8gMXMgc28gd2UncmUgbm90IGhpdHRpbmdcbiAgICAvLyB0aGF0IGNvc3RseSBjYWxsIHJlcGVhdGVkbHkuXG4gICAgbGV0IGNhY2hlZE5vdyA9IDBcbiAgICBjb25zdCBnZXROb3cgPSAoKSA9PiB7XG4gICAgICBjb25zdCBuID0gcGVyZi5ub3coKVxuICAgICAgaWYgKHRoaXMudHRsUmVzb2x1dGlvbiA+IDApIHtcbiAgICAgICAgY2FjaGVkTm93ID0gblxuICAgICAgICBjb25zdCB0ID0gc2V0VGltZW91dChcbiAgICAgICAgICAoKSA9PiAoY2FjaGVkTm93ID0gMCksXG4gICAgICAgICAgdGhpcy50dGxSZXNvbHV0aW9uXG4gICAgICAgIClcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBub3QgYXZhaWxhYmxlIG9uIGFsbCBwbGF0Zm9ybXMgKi9cbiAgICAgICAgaWYgKHQudW5yZWYpIHtcbiAgICAgICAgICB0LnVucmVmKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5cbiAgICB9XG5cbiAgICB0aGlzLmdldFJlbWFpbmluZ1RUTCA9IGtleSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMua2V5TWFwLmdldChrZXkpXG4gICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMFxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudHRsc1tpbmRleF0gPT09IDAgfHwgdGhpcy5zdGFydHNbaW5kZXhdID09PSAwXG4gICAgICAgID8gSW5maW5pdHlcbiAgICAgICAgOiB0aGlzLnN0YXJ0c1tpbmRleF0gK1xuICAgICAgICAgICAgdGhpcy50dGxzW2luZGV4XSAtXG4gICAgICAgICAgICAoY2FjaGVkTm93IHx8IGdldE5vdygpKVxuICAgIH1cblxuICAgIHRoaXMuaXNTdGFsZSA9IGluZGV4ID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudHRsc1tpbmRleF0gIT09IDAgJiZcbiAgICAgICAgdGhpcy5zdGFydHNbaW5kZXhdICE9PSAwICYmXG4gICAgICAgIChjYWNoZWROb3cgfHwgZ2V0Tm93KCkpIC0gdGhpcy5zdGFydHNbaW5kZXhdID5cbiAgICAgICAgICB0aGlzLnR0bHNbaW5kZXhdXG4gICAgICApXG4gICAgfVxuICB9XG4gIHVwZGF0ZUl0ZW1BZ2UoX2luZGV4KSB7fVxuICBzdGF0dXNUVEwoX3N0YXR1cywgX2luZGV4KSB7fVxuICBzZXRJdGVtVFRMKF9pbmRleCwgX3R0bCwgX3N0YXJ0KSB7fVxuICBpc1N0YWxlKF9pbmRleCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaW5pdGlhbGl6ZVNpemVUcmFja2luZygpIHtcbiAgICB0aGlzLmNhbGN1bGF0ZWRTaXplID0gMFxuICAgIHRoaXMuc2l6ZXMgPSBuZXcgWmVyb0FycmF5KHRoaXMubWF4KVxuICAgIHRoaXMucmVtb3ZlSXRlbVNpemUgPSBpbmRleCA9PiB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZWRTaXplIC09IHRoaXMuc2l6ZXNbaW5kZXhdXG4gICAgICB0aGlzLnNpemVzW2luZGV4XSA9IDBcbiAgICB9XG4gICAgdGhpcy5yZXF1aXJlU2l6ZSA9IChrLCB2LCBzaXplLCBzaXplQ2FsY3VsYXRpb24pID0+IHtcbiAgICAgIC8vIHByb3Zpc2lvbmFsbHkgYWNjZXB0IGJhY2tncm91bmQgZmV0Y2hlcy5cbiAgICAgIC8vIGFjdHVhbCB2YWx1ZSBzaXplIHdpbGwgYmUgY2hlY2tlZCB3aGVuIHRoZXkgcmV0dXJuLlxuICAgICAgaWYgKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godikpIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cbiAgICAgIGlmICghaXNQb3NJbnQoc2l6ZSkpIHtcbiAgICAgICAgaWYgKHNpemVDYWxjdWxhdGlvbikge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc2l6ZUNhbGN1bGF0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzaXplQ2FsY3VsYXRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uJylcbiAgICAgICAgICB9XG4gICAgICAgICAgc2l6ZSA9IHNpemVDYWxjdWxhdGlvbih2LCBrKVxuICAgICAgICAgIGlmICghaXNQb3NJbnQoc2l6ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICdzaXplQ2FsY3VsYXRpb24gcmV0dXJuIGludmFsaWQgKGV4cGVjdCBwb3NpdGl2ZSBpbnRlZ2VyKSdcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdpbnZhbGlkIHNpemUgdmFsdWUgKG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcikuICcgK1xuICAgICAgICAgICAgICAnV2hlbiBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZSBpcyB1c2VkLCBzaXplQ2FsY3VsYXRpb24gb3Igc2l6ZSAnICtcbiAgICAgICAgICAgICAgJ211c3QgYmUgc2V0LidcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzaXplXG4gICAgfVxuICAgIHRoaXMuYWRkSXRlbVNpemUgPSAoaW5kZXgsIHNpemUsIHN0YXR1cykgPT4ge1xuICAgICAgdGhpcy5zaXplc1tpbmRleF0gPSBzaXplXG4gICAgICBpZiAodGhpcy5tYXhTaXplKSB7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0aGlzLm1heFNpemUgLSB0aGlzLnNpemVzW2luZGV4XVxuICAgICAgICB3aGlsZSAodGhpcy5jYWxjdWxhdGVkU2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgICB0aGlzLmV2aWN0KHRydWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsY3VsYXRlZFNpemUgKz0gdGhpcy5zaXplc1tpbmRleF1cbiAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgc3RhdHVzLmVudHJ5U2l6ZSA9IHNpemVcbiAgICAgICAgc3RhdHVzLnRvdGFsQ2FsY3VsYXRlZFNpemUgPSB0aGlzLmNhbGN1bGF0ZWRTaXplXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlbW92ZUl0ZW1TaXplKF9pbmRleCkge31cbiAgYWRkSXRlbVNpemUoX2luZGV4LCBfc2l6ZSkge31cbiAgcmVxdWlyZVNpemUoX2ssIF92LCBzaXplLCBzaXplQ2FsY3VsYXRpb24pIHtcbiAgICBpZiAoc2l6ZSB8fCBzaXplQ2FsY3VsYXRpb24pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdjYW5ub3Qgc2V0IHNpemUgd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplIG9uIGNhY2hlJ1xuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gICppbmRleGVzKHsgYWxsb3dTdGFsZSA9IHRoaXMuYWxsb3dTdGFsZSB9ID0ge30pIHtcbiAgICBpZiAodGhpcy5zaXplKSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy50YWlsOyB0cnVlOyApIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRJbmRleChpKSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93U3RhbGUgfHwgIXRoaXMuaXNTdGFsZShpKSkge1xuICAgICAgICAgIHlpZWxkIGlcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gdGhpcy5oZWFkKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpID0gdGhpcy5wcmV2W2ldXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAqcmluZGV4ZXMoeyBhbGxvd1N0YWxlID0gdGhpcy5hbGxvd1N0YWxlIH0gPSB7fSkge1xuICAgIGlmICh0aGlzLnNpemUpIHtcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmhlYWQ7IHRydWU7ICkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGkpKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dTdGFsZSB8fCAhdGhpcy5pc1N0YWxlKGkpKSB7XG4gICAgICAgICAgeWllbGQgaVxuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSB0aGlzLnRhaWwpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkgPSB0aGlzLm5leHRbaV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlzVmFsaWRJbmRleChpbmRleCkge1xuICAgIHJldHVybiAoXG4gICAgICBpbmRleCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLmtleU1hcC5nZXQodGhpcy5rZXlMaXN0W2luZGV4XSkgPT09IGluZGV4XG4gICAgKVxuICB9XG5cbiAgKmVudHJpZXMoKSB7XG4gICAgZm9yIChjb25zdCBpIG9mIHRoaXMuaW5kZXhlcygpKSB7XG4gICAgICBpZiAoIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W2ldKSkge1xuICAgICAgICB5aWVsZCBbdGhpcy5rZXlMaXN0W2ldLCB0aGlzLnZhbExpc3RbaV1dXG4gICAgICB9XG4gICAgfVxuICB9XG4gICpyZW50cmllcygpIHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5yaW5kZXhlcygpKSB7XG4gICAgICBpZiAoIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W2ldKSkge1xuICAgICAgICB5aWVsZCBbdGhpcy5rZXlMaXN0W2ldLCB0aGlzLnZhbExpc3RbaV1dXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgKmtleXMoKSB7XG4gICAgZm9yIChjb25zdCBpIG9mIHRoaXMuaW5kZXhlcygpKSB7XG4gICAgICBpZiAoIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W2ldKSkge1xuICAgICAgICB5aWVsZCB0aGlzLmtleUxpc3RbaV1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgKnJrZXlzKCkge1xuICAgIGZvciAoY29uc3QgaSBvZiB0aGlzLnJpbmRleGVzKCkpIHtcbiAgICAgIGlmICghdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbaV0pKSB7XG4gICAgICAgIHlpZWxkIHRoaXMua2V5TGlzdFtpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICp2YWx1ZXMoKSB7XG4gICAgZm9yIChjb25zdCBpIG9mIHRoaXMuaW5kZXhlcygpKSB7XG4gICAgICBpZiAoIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W2ldKSkge1xuICAgICAgICB5aWVsZCB0aGlzLnZhbExpc3RbaV1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgKnJ2YWx1ZXMoKSB7XG4gICAgZm9yIChjb25zdCBpIG9mIHRoaXMucmluZGV4ZXMoKSkge1xuICAgICAgaWYgKCF0aGlzLmlzQmFja2dyb3VuZEZldGNoKHRoaXMudmFsTGlzdFtpXSkpIHtcbiAgICAgICAgeWllbGQgdGhpcy52YWxMaXN0W2ldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cmllcygpXG4gIH1cblxuICBmaW5kKGZuLCBnZXRPcHRpb25zID0ge30pIHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5pbmRleGVzKCkpIHtcbiAgICAgIGlmIChmbih0aGlzLnZhbExpc3RbaV0sIHRoaXMua2V5TGlzdFtpXSwgdGhpcykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMua2V5TGlzdFtpXSwgZ2V0T3B0aW9ucylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3JFYWNoKGZuLCB0aGlzcCA9IHRoaXMpIHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5pbmRleGVzKCkpIHtcbiAgICAgIGZuLmNhbGwodGhpc3AsIHRoaXMudmFsTGlzdFtpXSwgdGhpcy5rZXlMaXN0W2ldLCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIHJmb3JFYWNoKGZuLCB0aGlzcCA9IHRoaXMpIHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5yaW5kZXhlcygpKSB7XG4gICAgICBmbi5jYWxsKHRoaXNwLCB0aGlzLnZhbExpc3RbaV0sIHRoaXMua2V5TGlzdFtpXSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBnZXQgcHJ1bmUoKSB7XG4gICAgZGVwcmVjYXRlZE1ldGhvZCgncHJ1bmUnLCAncHVyZ2VTdGFsZScpXG4gICAgcmV0dXJuIHRoaXMucHVyZ2VTdGFsZVxuICB9XG5cbiAgcHVyZ2VTdGFsZSgpIHtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlXG4gICAgZm9yIChjb25zdCBpIG9mIHRoaXMucmluZGV4ZXMoeyBhbGxvd1N0YWxlOiB0cnVlIH0pKSB7XG4gICAgICBpZiAodGhpcy5pc1N0YWxlKGkpKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlKHRoaXMua2V5TGlzdFtpXSlcbiAgICAgICAgZGVsZXRlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlbGV0ZWRcbiAgfVxuXG4gIGR1bXAoKSB7XG4gICAgY29uc3QgYXJyID0gW11cbiAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5pbmRleGVzKHsgYWxsb3dTdGFsZTogdHJ1ZSB9KSkge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlMaXN0W2ldXG4gICAgICBjb25zdCB2ID0gdGhpcy52YWxMaXN0W2ldXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godilcbiAgICAgICAgPyB2Ll9fc3RhbGVXaGlsZUZldGNoaW5nXG4gICAgICAgIDogdlxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlXG4gICAgICBjb25zdCBlbnRyeSA9IHsgdmFsdWUgfVxuICAgICAgaWYgKHRoaXMudHRscykge1xuICAgICAgICBlbnRyeS50dGwgPSB0aGlzLnR0bHNbaV1cbiAgICAgICAgLy8gYWx3YXlzIGR1bXAgdGhlIHN0YXJ0IHJlbGF0aXZlIHRvIGEgcG9ydGFibGUgdGltZXN0YW1wXG4gICAgICAgIC8vIGl0J3Mgb2sgZm9yIHRoaXMgdG8gYmUgYSBiaXQgc2xvdywgaXQncyBhIHJhcmUgb3BlcmF0aW9uLlxuICAgICAgICBjb25zdCBhZ2UgPSBwZXJmLm5vdygpIC0gdGhpcy5zdGFydHNbaV1cbiAgICAgICAgZW50cnkuc3RhcnQgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLSBhZ2UpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zaXplcykge1xuICAgICAgICBlbnRyeS5zaXplID0gdGhpcy5zaXplc1tpXVxuICAgICAgfVxuICAgICAgYXJyLnVuc2hpZnQoW2tleSwgZW50cnldKVxuICAgIH1cbiAgICByZXR1cm4gYXJyXG4gIH1cblxuICBsb2FkKGFycikge1xuICAgIHRoaXMuY2xlYXIoKVxuICAgIGZvciAoY29uc3QgW2tleSwgZW50cnldIG9mIGFycikge1xuICAgICAgaWYgKGVudHJ5LnN0YXJ0KSB7XG4gICAgICAgIC8vIGVudHJ5LnN0YXJ0IGlzIGEgcG9ydGFibGUgdGltZXN0YW1wLCBidXQgd2UgbWF5IGJlIHVzaW5nXG4gICAgICAgIC8vIG5vZGUncyBwZXJmb3JtYW5jZS5ub3coKSwgc28gY2FsY3VsYXRlIHRoZSBvZmZzZXQuXG4gICAgICAgIC8vIGl0J3Mgb2sgZm9yIHRoaXMgdG8gYmUgYSBiaXQgc2xvdywgaXQncyBhIHJhcmUgb3BlcmF0aW9uLlxuICAgICAgICBjb25zdCBhZ2UgPSBEYXRlLm5vdygpIC0gZW50cnkuc3RhcnRcbiAgICAgICAgZW50cnkuc3RhcnQgPSBwZXJmLm5vdygpIC0gYWdlXG4gICAgICB9XG4gICAgICB0aGlzLnNldChrZXksIGVudHJ5LnZhbHVlLCBlbnRyeSlcbiAgICB9XG4gIH1cblxuICBkaXNwb3NlKF92LCBfaywgX3JlYXNvbikge31cblxuICBzZXQoXG4gICAgayxcbiAgICB2LFxuICAgIHtcbiAgICAgIHR0bCA9IHRoaXMudHRsLFxuICAgICAgc3RhcnQsXG4gICAgICBub0Rpc3Bvc2VPblNldCA9IHRoaXMubm9EaXNwb3NlT25TZXQsXG4gICAgICBzaXplID0gMCxcbiAgICAgIHNpemVDYWxjdWxhdGlvbiA9IHRoaXMuc2l6ZUNhbGN1bGF0aW9uLFxuICAgICAgbm9VcGRhdGVUVEwgPSB0aGlzLm5vVXBkYXRlVFRMLFxuICAgICAgc3RhdHVzLFxuICAgIH0gPSB7fVxuICApIHtcbiAgICBzaXplID0gdGhpcy5yZXF1aXJlU2l6ZShrLCB2LCBzaXplLCBzaXplQ2FsY3VsYXRpb24pXG4gICAgLy8gaWYgdGhlIGl0ZW0gZG9lc24ndCBmaXQsIGRvbid0IGRvIGFueXRoaW5nXG4gICAgLy8gTkI6IG1heEVudHJ5U2l6ZSBzZXQgdG8gbWF4U2l6ZSBieSBkZWZhdWx0XG4gICAgaWYgKHRoaXMubWF4RW50cnlTaXplICYmIHNpemUgPiB0aGlzLm1heEVudHJ5U2l6ZSkge1xuICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICBzdGF0dXMuc2V0ID0gJ21pc3MnXG4gICAgICAgIHN0YXR1cy5tYXhFbnRyeVNpemVFeGNlZWRlZCA9IHRydWVcbiAgICAgIH1cbiAgICAgIC8vIGhhdmUgdG8gZGVsZXRlLCBpbiBjYXNlIGEgYmFja2dyb3VuZCBmZXRjaCBpcyB0aGVyZSBhbHJlYWR5LlxuICAgICAgLy8gaW4gbm9uLWFzeW5jIGNhc2VzLCB0aGlzIGlzIGEgbm8tb3BcbiAgICAgIHRoaXMuZGVsZXRlKGspXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBsZXQgaW5kZXggPSB0aGlzLnNpemUgPT09IDAgPyB1bmRlZmluZWQgOiB0aGlzLmtleU1hcC5nZXQoaylcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gYWRkaXRpb25cbiAgICAgIGluZGV4ID0gdGhpcy5uZXdJbmRleCgpXG4gICAgICB0aGlzLmtleUxpc3RbaW5kZXhdID0ga1xuICAgICAgdGhpcy52YWxMaXN0W2luZGV4XSA9IHZcbiAgICAgIHRoaXMua2V5TWFwLnNldChrLCBpbmRleClcbiAgICAgIHRoaXMubmV4dFt0aGlzLnRhaWxdID0gaW5kZXhcbiAgICAgIHRoaXMucHJldltpbmRleF0gPSB0aGlzLnRhaWxcbiAgICAgIHRoaXMudGFpbCA9IGluZGV4XG4gICAgICB0aGlzLnNpemUrK1xuICAgICAgdGhpcy5hZGRJdGVtU2l6ZShpbmRleCwgc2l6ZSwgc3RhdHVzKVxuICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICBzdGF0dXMuc2V0ID0gJ2FkZCdcbiAgICAgIH1cbiAgICAgIG5vVXBkYXRlVFRMID0gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlXG4gICAgICB0aGlzLm1vdmVUb1RhaWwoaW5kZXgpXG4gICAgICBjb25zdCBvbGRWYWwgPSB0aGlzLnZhbExpc3RbaW5kZXhdXG4gICAgICBpZiAodiAhPT0gb2xkVmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQmFja2dyb3VuZEZldGNoKG9sZFZhbCkpIHtcbiAgICAgICAgICBvbGRWYWwuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCdyZXBsYWNlZCcpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghbm9EaXNwb3NlT25TZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZShvbGRWYWwsIGssICdzZXQnKVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcG9zZUFmdGVyKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGlzcG9zZWQucHVzaChbb2xkVmFsLCBrLCAnc2V0J10pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbVNpemUoaW5kZXgpXG4gICAgICAgIHRoaXMudmFsTGlzdFtpbmRleF0gPSB2XG4gICAgICAgIHRoaXMuYWRkSXRlbVNpemUoaW5kZXgsIHNpemUsIHN0YXR1cylcbiAgICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICAgIHN0YXR1cy5zZXQgPSAncmVwbGFjZSdcbiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9XG4gICAgICAgICAgICBvbGRWYWwgJiYgdGhpcy5pc0JhY2tncm91bmRGZXRjaChvbGRWYWwpXG4gICAgICAgICAgICAgID8gb2xkVmFsLl9fc3RhbGVXaGlsZUZldGNoaW5nXG4gICAgICAgICAgICAgIDogb2xkVmFsXG4gICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB1bmRlZmluZWQpIHN0YXR1cy5vbGRWYWx1ZSA9IG9sZFZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cy5zZXQgPSAndXBkYXRlJ1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHRsICE9PSAwICYmIHRoaXMudHRsID09PSAwICYmICF0aGlzLnR0bHMpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVRUTFRyYWNraW5nKClcbiAgICB9XG4gICAgaWYgKCFub1VwZGF0ZVRUTCkge1xuICAgICAgdGhpcy5zZXRJdGVtVFRMKGluZGV4LCB0dGwsIHN0YXJ0KVxuICAgIH1cbiAgICB0aGlzLnN0YXR1c1RUTChzdGF0dXMsIGluZGV4KVxuICAgIGlmICh0aGlzLmRpc3Bvc2VBZnRlcikge1xuICAgICAgd2hpbGUgKHRoaXMuZGlzcG9zZWQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFmdGVyKC4uLnRoaXMuZGlzcG9zZWQuc2hpZnQoKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIG5ld0luZGV4KCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnRhaWxcbiAgICB9XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gdGhpcy5tYXggJiYgdGhpcy5tYXggIT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmV2aWN0KGZhbHNlKVxuICAgIH1cbiAgICBpZiAodGhpcy5mcmVlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZnJlZS5wb3AoKVxuICAgIH1cbiAgICAvLyBpbml0aWFsIGZpbGwsIGp1c3Qga2VlcCB3cml0aW5nIGRvd24gdGhlIGxpc3RcbiAgICByZXR1cm4gdGhpcy5pbml0aWFsRmlsbCsrXG4gIH1cblxuICBwb3AoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSkge1xuICAgICAgY29uc3QgdmFsID0gdGhpcy52YWxMaXN0W3RoaXMuaGVhZF1cbiAgICAgIHRoaXMuZXZpY3QodHJ1ZSlcbiAgICAgIHJldHVybiB2YWxcbiAgICB9XG4gIH1cblxuICBldmljdChmcmVlKSB7XG4gICAgY29uc3QgaGVhZCA9IHRoaXMuaGVhZFxuICAgIGNvbnN0IGsgPSB0aGlzLmtleUxpc3RbaGVhZF1cbiAgICBjb25zdCB2ID0gdGhpcy52YWxMaXN0W2hlYWRdXG4gICAgaWYgKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godikpIHtcbiAgICAgIHYuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCdldmljdGVkJykpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcG9zZSh2LCBrLCAnZXZpY3QnKVxuICAgICAgaWYgKHRoaXMuZGlzcG9zZUFmdGVyKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQucHVzaChbdiwgaywgJ2V2aWN0J10pXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlSXRlbVNpemUoaGVhZClcbiAgICAvLyBpZiB3ZSBhcmVuJ3QgYWJvdXQgdG8gdXNlIHRoZSBpbmRleCwgdGhlbiBudWxsIHRoZXNlIG91dFxuICAgIGlmIChmcmVlKSB7XG4gICAgICB0aGlzLmtleUxpc3RbaGVhZF0gPSBudWxsXG4gICAgICB0aGlzLnZhbExpc3RbaGVhZF0gPSBudWxsXG4gICAgICB0aGlzLmZyZWUucHVzaChoZWFkKVxuICAgIH1cbiAgICB0aGlzLmhlYWQgPSB0aGlzLm5leHRbaGVhZF1cbiAgICB0aGlzLmtleU1hcC5kZWxldGUoaylcbiAgICB0aGlzLnNpemUtLVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBoYXMoaywgeyB1cGRhdGVBZ2VPbkhhcyA9IHRoaXMudXBkYXRlQWdlT25IYXMsIHN0YXR1cyB9ID0ge30pIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMua2V5TWFwLmdldChrKVxuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIXRoaXMuaXNTdGFsZShpbmRleCkpIHtcbiAgICAgICAgaWYgKHVwZGF0ZUFnZU9uSGFzKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVJdGVtQWdlKGluZGV4KVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMpIHN0YXR1cy5oYXMgPSAnaGl0J1xuICAgICAgICB0aGlzLnN0YXR1c1RUTChzdGF0dXMsIGluZGV4KVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChzdGF0dXMpIHtcbiAgICAgICAgc3RhdHVzLmhhcyA9ICdzdGFsZSdcbiAgICAgICAgdGhpcy5zdGF0dXNUVEwoc3RhdHVzLCBpbmRleClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXR1cykge1xuICAgICAgc3RhdHVzLmhhcyA9ICdtaXNzJ1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIGxpa2UgZ2V0KCksIGJ1dCB3aXRob3V0IGFueSBMUlUgdXBkYXRpbmcgb3IgVFRMIGV4cGlyYXRpb25cbiAgcGVlayhrLCB7IGFsbG93U3RhbGUgPSB0aGlzLmFsbG93U3RhbGUgfSA9IHt9KSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmtleU1hcC5nZXQoaylcbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiAoYWxsb3dTdGFsZSB8fCAhdGhpcy5pc1N0YWxlKGluZGV4KSkpIHtcbiAgICAgIGNvbnN0IHYgPSB0aGlzLnZhbExpc3RbaW5kZXhdXG4gICAgICAvLyBlaXRoZXIgc3RhbGUgYW5kIGFsbG93ZWQsIG9yIGZvcmNpbmcgYSByZWZyZXNoIG9mIG5vbi1zdGFsZSB2YWx1ZVxuICAgICAgcmV0dXJuIHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godikgPyB2Ll9fc3RhbGVXaGlsZUZldGNoaW5nIDogdlxuICAgIH1cbiAgfVxuXG4gIGJhY2tncm91bmRGZXRjaChrLCBpbmRleCwgb3B0aW9ucywgY29udGV4dCkge1xuICAgIGNvbnN0IHYgPSBpbmRleCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogdGhpcy52YWxMaXN0W2luZGV4XVxuICAgIGlmICh0aGlzLmlzQmFja2dyb3VuZEZldGNoKHYpKSB7XG4gICAgICByZXR1cm4gdlxuICAgIH1cbiAgICBjb25zdCBhYyA9IG5ldyBBQygpXG4gICAgaWYgKG9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICBvcHRpb25zLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+XG4gICAgICAgIGFjLmFib3J0KG9wdGlvbnMuc2lnbmFsLnJlYXNvbilcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3QgZmV0Y2hPcHRzID0ge1xuICAgICAgc2lnbmFsOiBhYy5zaWduYWwsXG4gICAgICBvcHRpb25zLFxuICAgICAgY29udGV4dCxcbiAgICB9XG4gICAgY29uc3QgY2IgPSAodiwgdXBkYXRlQ2FjaGUgPSBmYWxzZSkgPT4ge1xuICAgICAgY29uc3QgeyBhYm9ydGVkIH0gPSBhYy5zaWduYWxcbiAgICAgIGNvbnN0IGlnbm9yZUFib3J0ID0gb3B0aW9ucy5pZ25vcmVGZXRjaEFib3J0ICYmIHYgIT09IHVuZGVmaW5lZFxuICAgICAgaWYgKG9wdGlvbnMuc3RhdHVzKSB7XG4gICAgICAgIGlmIChhYm9ydGVkICYmICF1cGRhdGVDYWNoZSkge1xuICAgICAgICAgIG9wdGlvbnMuc3RhdHVzLmZldGNoQWJvcnRlZCA9IHRydWVcbiAgICAgICAgICBvcHRpb25zLnN0YXR1cy5mZXRjaEVycm9yID0gYWMuc2lnbmFsLnJlYXNvblxuICAgICAgICAgIGlmIChpZ25vcmVBYm9ydCkgb3B0aW9ucy5zdGF0dXMuZmV0Y2hBYm9ydElnbm9yZWQgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy5zdGF0dXMuZmV0Y2hSZXNvbHZlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFib3J0ZWQgJiYgIWlnbm9yZUFib3J0ICYmICF1cGRhdGVDYWNoZSkge1xuICAgICAgICByZXR1cm4gZmV0Y2hGYWlsKGFjLnNpZ25hbC5yZWFzb24pXG4gICAgICB9XG4gICAgICAvLyBlaXRoZXIgd2UgZGlkbid0IGFib3J0LCBhbmQgYXJlIHN0aWxsIGhlcmUsIG9yIHdlIGRpZCwgYW5kIGlnbm9yZWRcbiAgICAgIGlmICh0aGlzLnZhbExpc3RbaW5kZXhdID09PSBwKSB7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocC5fX3N0YWxlV2hpbGVGZXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy52YWxMaXN0W2luZGV4XSA9IHAuX19zdGFsZVdoaWxlRmV0Y2hpbmdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxldGUoaylcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuc3RhdHVzKSBvcHRpb25zLnN0YXR1cy5mZXRjaFVwZGF0ZWQgPSB0cnVlXG4gICAgICAgICAgdGhpcy5zZXQoaywgdiwgZmV0Y2hPcHRzLm9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2XG4gICAgfVxuICAgIGNvbnN0IGViID0gZXIgPT4ge1xuICAgICAgaWYgKG9wdGlvbnMuc3RhdHVzKSB7XG4gICAgICAgIG9wdGlvbnMuc3RhdHVzLmZldGNoUmVqZWN0ZWQgPSB0cnVlXG4gICAgICAgIG9wdGlvbnMuc3RhdHVzLmZldGNoRXJyb3IgPSBlclxuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoRmFpbChlcilcbiAgICB9XG4gICAgY29uc3QgZmV0Y2hGYWlsID0gZXIgPT4ge1xuICAgICAgY29uc3QgeyBhYm9ydGVkIH0gPSBhYy5zaWduYWxcbiAgICAgIGNvbnN0IGFsbG93U3RhbGVBYm9ydGVkID1cbiAgICAgICAgYWJvcnRlZCAmJiBvcHRpb25zLmFsbG93U3RhbGVPbkZldGNoQWJvcnRcbiAgICAgIGNvbnN0IGFsbG93U3RhbGUgPVxuICAgICAgICBhbGxvd1N0YWxlQWJvcnRlZCB8fCBvcHRpb25zLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uXG4gICAgICBjb25zdCBub0RlbGV0ZSA9IGFsbG93U3RhbGUgfHwgb3B0aW9ucy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb25cbiAgICAgIGlmICh0aGlzLnZhbExpc3RbaW5kZXhdID09PSBwKSB7XG4gICAgICAgIC8vIGlmIHdlIGFsbG93IHN0YWxlIG9uIGZldGNoIHJlamVjdGlvbnMsIHRoZW4gd2UgbmVlZCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAvLyB0aGUgc3RhbGUgdmFsdWUgaXMgbm90IHJlbW92ZWQgZnJvbSB0aGUgY2FjaGUgd2hlbiB0aGUgZmV0Y2ggZmFpbHMuXG4gICAgICAgIGNvbnN0IGRlbCA9ICFub0RlbGV0ZSB8fCBwLl9fc3RhbGVXaGlsZUZldGNoaW5nID09PSB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRlbCkge1xuICAgICAgICAgIHRoaXMuZGVsZXRlKGspXG4gICAgICAgIH0gZWxzZSBpZiAoIWFsbG93U3RhbGVBYm9ydGVkKSB7XG4gICAgICAgICAgLy8gc3RpbGwgcmVwbGFjZSB0aGUgKnByb21pc2UqIHdpdGggdGhlIHN0YWxlIHZhbHVlLFxuICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSBkb25lIHdpdGggdGhlIHByb21pc2UgYXQgdGhpcyBwb2ludC5cbiAgICAgICAgICAvLyBsZWF2ZSBpdCB1bnRvdWNoZWQgaWYgd2UncmUgc3RpbGwgd2FpdGluZyBmb3IgYW5cbiAgICAgICAgICAvLyBhYm9ydGVkIGJhY2tncm91bmQgZmV0Y2ggdGhhdCBoYXNuJ3QgeWV0IHJldHVybmVkLlxuICAgICAgICAgIHRoaXMudmFsTGlzdFtpbmRleF0gPSBwLl9fc3RhbGVXaGlsZUZldGNoaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhbGxvd1N0YWxlKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnN0YXR1cyAmJiBwLl9fc3RhbGVXaGlsZUZldGNoaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBvcHRpb25zLnN0YXR1cy5yZXR1cm5lZFN0YWxlID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwLl9fc3RhbGVXaGlsZUZldGNoaW5nXG4gICAgICB9IGVsc2UgaWYgKHAuX19yZXR1cm5lZCA9PT0gcCkge1xuICAgICAgICB0aHJvdyBlclxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwY2FsbCA9IChyZXMsIHJlaikgPT4ge1xuICAgICAgdGhpcy5mZXRjaE1ldGhvZChrLCB2LCBmZXRjaE9wdHMpLnRoZW4odiA9PiByZXModiksIHJlailcbiAgICAgIC8vIGlnbm9yZWQsIHdlIGdvIHVudGlsIHdlIGZpbmlzaCwgcmVnYXJkbGVzcy5cbiAgICAgIC8vIGRlZmVyIGNoZWNrIHVudGlsIHdlIGFyZSBhY3R1YWxseSBhYm9ydGluZyxcbiAgICAgIC8vIHNvIGZldGNoTWV0aG9kIGNhbiBvdmVycmlkZS5cbiAgICAgIGFjLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFvcHRpb25zLmlnbm9yZUZldGNoQWJvcnQgfHxcbiAgICAgICAgICBvcHRpb25zLmFsbG93U3RhbGVPbkZldGNoQWJvcnRcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVzKClcbiAgICAgICAgICAvLyB3aGVuIGl0IGV2ZW50dWFsbHkgcmVzb2x2ZXMsIHVwZGF0ZSB0aGUgY2FjaGUuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCkge1xuICAgICAgICAgICAgcmVzID0gdiA9PiBjYih2LCB0cnVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc3RhdHVzKSBvcHRpb25zLnN0YXR1cy5mZXRjaERpc3BhdGNoZWQgPSB0cnVlXG4gICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKHBjYWxsKS50aGVuKGNiLCBlYilcbiAgICBwLl9fYWJvcnRDb250cm9sbGVyID0gYWNcbiAgICBwLl9fc3RhbGVXaGlsZUZldGNoaW5nID0gdlxuICAgIHAuX19yZXR1cm5lZCA9IG51bGxcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gaW50ZXJuYWwsIGRvbid0IGV4cG9zZSBzdGF0dXMuXG4gICAgICB0aGlzLnNldChrLCBwLCB7IC4uLmZldGNoT3B0cy5vcHRpb25zLCBzdGF0dXM6IHVuZGVmaW5lZCB9KVxuICAgICAgaW5kZXggPSB0aGlzLmtleU1hcC5nZXQoaylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52YWxMaXN0W2luZGV4XSA9IHBcbiAgICB9XG4gICAgcmV0dXJuIHBcbiAgfVxuXG4gIGlzQmFja2dyb3VuZEZldGNoKHApIHtcbiAgICByZXR1cm4gKFxuICAgICAgcCAmJlxuICAgICAgdHlwZW9mIHAgPT09ICdvYmplY3QnICYmXG4gICAgICB0eXBlb2YgcC50aGVuID09PSAnZnVuY3Rpb24nICYmXG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gICAgICAgIHAsXG4gICAgICAgICdfX3N0YWxlV2hpbGVGZXRjaGluZydcbiAgICAgICkgJiZcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwLCAnX19yZXR1cm5lZCcpICYmXG4gICAgICAocC5fX3JldHVybmVkID09PSBwIHx8IHAuX19yZXR1cm5lZCA9PT0gbnVsbClcbiAgICApXG4gIH1cblxuICAvLyB0aGlzIHRha2VzIHRoZSB1bmlvbiBvZiBnZXQoKSBhbmQgc2V0KCkgb3B0cywgYmVjYXVzZSBpdCBkb2VzIGJvdGhcbiAgYXN5bmMgZmV0Y2goXG4gICAgayxcbiAgICB7XG4gICAgICAvLyBnZXQgb3B0aW9uc1xuICAgICAgYWxsb3dTdGFsZSA9IHRoaXMuYWxsb3dTdGFsZSxcbiAgICAgIHVwZGF0ZUFnZU9uR2V0ID0gdGhpcy51cGRhdGVBZ2VPbkdldCxcbiAgICAgIG5vRGVsZXRlT25TdGFsZUdldCA9IHRoaXMubm9EZWxldGVPblN0YWxlR2V0LFxuICAgICAgLy8gc2V0IG9wdGlvbnNcbiAgICAgIHR0bCA9IHRoaXMudHRsLFxuICAgICAgbm9EaXNwb3NlT25TZXQgPSB0aGlzLm5vRGlzcG9zZU9uU2V0LFxuICAgICAgc2l6ZSA9IDAsXG4gICAgICBzaXplQ2FsY3VsYXRpb24gPSB0aGlzLnNpemVDYWxjdWxhdGlvbixcbiAgICAgIG5vVXBkYXRlVFRMID0gdGhpcy5ub1VwZGF0ZVRUTCxcbiAgICAgIC8vIGZldGNoIGV4Y2x1c2l2ZSBvcHRpb25zXG4gICAgICBub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24gPSB0aGlzLm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbixcbiAgICAgIGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uID0gdGhpcy5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbixcbiAgICAgIGlnbm9yZUZldGNoQWJvcnQgPSB0aGlzLmlnbm9yZUZldGNoQWJvcnQsXG4gICAgICBhbGxvd1N0YWxlT25GZXRjaEFib3J0ID0gdGhpcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0LFxuICAgICAgZmV0Y2hDb250ZXh0ID0gdGhpcy5mZXRjaENvbnRleHQsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBmYWxzZSxcbiAgICAgIHN0YXR1cyxcbiAgICAgIHNpZ25hbCxcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgaWYgKCF0aGlzLmZldGNoTWV0aG9kKSB7XG4gICAgICBpZiAoc3RhdHVzKSBzdGF0dXMuZmV0Y2ggPSAnZ2V0J1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KGssIHtcbiAgICAgICAgYWxsb3dTdGFsZSxcbiAgICAgICAgdXBkYXRlQWdlT25HZXQsXG4gICAgICAgIG5vRGVsZXRlT25TdGFsZUdldCxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYWxsb3dTdGFsZSxcbiAgICAgIHVwZGF0ZUFnZU9uR2V0LFxuICAgICAgbm9EZWxldGVPblN0YWxlR2V0LFxuICAgICAgdHRsLFxuICAgICAgbm9EaXNwb3NlT25TZXQsXG4gICAgICBzaXplLFxuICAgICAgc2l6ZUNhbGN1bGF0aW9uLFxuICAgICAgbm9VcGRhdGVUVEwsXG4gICAgICBub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24sXG4gICAgICBhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbixcbiAgICAgIGFsbG93U3RhbGVPbkZldGNoQWJvcnQsXG4gICAgICBpZ25vcmVGZXRjaEFib3J0LFxuICAgICAgc3RhdHVzLFxuICAgICAgc2lnbmFsLFxuICAgIH1cblxuICAgIGxldCBpbmRleCA9IHRoaXMua2V5TWFwLmdldChrKVxuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoc3RhdHVzKSBzdGF0dXMuZmV0Y2ggPSAnbWlzcydcbiAgICAgIGNvbnN0IHAgPSB0aGlzLmJhY2tncm91bmRGZXRjaChrLCBpbmRleCwgb3B0aW9ucywgZmV0Y2hDb250ZXh0KVxuICAgICAgcmV0dXJuIChwLl9fcmV0dXJuZWQgPSBwKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbiBjYWNoZSwgbWF5YmUgYWxyZWFkeSBmZXRjaGluZ1xuICAgICAgY29uc3QgdiA9IHRoaXMudmFsTGlzdFtpbmRleF1cbiAgICAgIGlmICh0aGlzLmlzQmFja2dyb3VuZEZldGNoKHYpKSB7XG4gICAgICAgIGNvbnN0IHN0YWxlID1cbiAgICAgICAgICBhbGxvd1N0YWxlICYmIHYuX19zdGFsZVdoaWxlRmV0Y2hpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgc3RhdHVzLmZldGNoID0gJ2luZmxpZ2h0J1xuICAgICAgICAgIGlmIChzdGFsZSkgc3RhdHVzLnJldHVybmVkU3RhbGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWxlID8gdi5fX3N0YWxlV2hpbGVGZXRjaGluZyA6ICh2Ll9fcmV0dXJuZWQgPSB2KVxuICAgICAgfVxuXG4gICAgICAvLyBpZiB3ZSBmb3JjZSBhIHJlZnJlc2gsIHRoYXQgbWVhbnMgZG8gTk9UIHNlcnZlIHRoZSBjYWNoZWQgdmFsdWUsXG4gICAgICAvLyB1bmxlc3Mgd2UgYXJlIGFscmVhZHkgaW4gdGhlIHByb2Nlc3Mgb2YgcmVmcmVzaGluZyB0aGUgY2FjaGUuXG4gICAgICBjb25zdCBpc1N0YWxlID0gdGhpcy5pc1N0YWxlKGluZGV4KVxuICAgICAgaWYgKCFmb3JjZVJlZnJlc2ggJiYgIWlzU3RhbGUpIHtcbiAgICAgICAgaWYgKHN0YXR1cykgc3RhdHVzLmZldGNoID0gJ2hpdCdcbiAgICAgICAgdGhpcy5tb3ZlVG9UYWlsKGluZGV4KVxuICAgICAgICBpZiAodXBkYXRlQWdlT25HZXQpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUl0ZW1BZ2UoaW5kZXgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0dXNUVEwoc3RhdHVzLCBpbmRleClcbiAgICAgICAgcmV0dXJuIHZcbiAgICAgIH1cblxuICAgICAgLy8gb2ssIGl0IGlzIHN0YWxlIG9yIGEgZm9yY2VkIHJlZnJlc2gsIGFuZCBub3QgYWxyZWFkeSBmZXRjaGluZy5cbiAgICAgIC8vIHJlZnJlc2ggdGhlIGNhY2hlLlxuICAgICAgY29uc3QgcCA9IHRoaXMuYmFja2dyb3VuZEZldGNoKGssIGluZGV4LCBvcHRpb25zLCBmZXRjaENvbnRleHQpXG4gICAgICBjb25zdCBoYXNTdGFsZSA9IHAuX19zdGFsZVdoaWxlRmV0Y2hpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgY29uc3Qgc3RhbGVWYWwgPSBoYXNTdGFsZSAmJiBhbGxvd1N0YWxlXG4gICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cy5mZXRjaCA9IGhhc1N0YWxlICYmIGlzU3RhbGUgPyAnc3RhbGUnIDogJ3JlZnJlc2gnXG4gICAgICAgIGlmIChzdGFsZVZhbCAmJiBpc1N0YWxlKSBzdGF0dXMucmV0dXJuZWRTdGFsZSA9IHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGFsZVZhbCA/IHAuX19zdGFsZVdoaWxlRmV0Y2hpbmcgOiAocC5fX3JldHVybmVkID0gcClcbiAgICB9XG4gIH1cblxuICBnZXQoXG4gICAgayxcbiAgICB7XG4gICAgICBhbGxvd1N0YWxlID0gdGhpcy5hbGxvd1N0YWxlLFxuICAgICAgdXBkYXRlQWdlT25HZXQgPSB0aGlzLnVwZGF0ZUFnZU9uR2V0LFxuICAgICAgbm9EZWxldGVPblN0YWxlR2V0ID0gdGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQsXG4gICAgICBzdGF0dXMsXG4gICAgfSA9IHt9XG4gICkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5rZXlNYXAuZ2V0KGspXG4gICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWxMaXN0W2luZGV4XVxuICAgICAgY29uc3QgZmV0Y2hpbmcgPSB0aGlzLmlzQmFja2dyb3VuZEZldGNoKHZhbHVlKVxuICAgICAgdGhpcy5zdGF0dXNUVEwoc3RhdHVzLCBpbmRleClcbiAgICAgIGlmICh0aGlzLmlzU3RhbGUoaW5kZXgpKSB7XG4gICAgICAgIGlmIChzdGF0dXMpIHN0YXR1cy5nZXQgPSAnc3RhbGUnXG4gICAgICAgIC8vIGRlbGV0ZSBvbmx5IGlmIG5vdCBhbiBpbi1mbGlnaHQgYmFja2dyb3VuZCBmZXRjaFxuICAgICAgICBpZiAoIWZldGNoaW5nKSB7XG4gICAgICAgICAgaWYgKCFub0RlbGV0ZU9uU3RhbGVHZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKGspXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0dXMpIHN0YXR1cy5yZXR1cm5lZFN0YWxlID0gYWxsb3dTdGFsZVxuICAgICAgICAgIHJldHVybiBhbGxvd1N0YWxlID8gdmFsdWUgOiB1bmRlZmluZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBzdGF0dXMucmV0dXJuZWRTdGFsZSA9XG4gICAgICAgICAgICAgIGFsbG93U3RhbGUgJiYgdmFsdWUuX19zdGFsZVdoaWxlRmV0Y2hpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWxsb3dTdGFsZSA/IHZhbHVlLl9fc3RhbGVXaGlsZUZldGNoaW5nIDogdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGF0dXMpIHN0YXR1cy5nZXQgPSAnaGl0J1xuICAgICAgICAvLyBpZiB3ZSdyZSBjdXJyZW50bHkgZmV0Y2hpbmcgaXQsIHdlIGRvbid0IGFjdHVhbGx5IGhhdmUgaXQgeWV0XG4gICAgICAgIC8vIGl0J3Mgbm90IHN0YWxlLCB3aGljaCBtZWFucyB0aGlzIGlzbid0IGEgc3RhbGVXaGlsZVJlZmV0Y2hpbmcuXG4gICAgICAgIC8vIElmIGl0J3Mgbm90IHN0YWxlLCBhbmQgZmV0Y2hpbmcsIEFORCBoYXMgYSBfX3N0YWxlV2hpbGVGZXRjaGluZ1xuICAgICAgICAvLyB2YWx1ZSwgdGhlbiB0aGF0IG1lYW5zIHRoZSB1c2VyIGZldGNoZWQgd2l0aCB7Zm9yY2VSZWZyZXNoOnRydWV9LFxuICAgICAgICAvLyBzbyBpdCdzIHNhZmUgdG8gcmV0dXJuIHRoYXQgdmFsdWUuXG4gICAgICAgIGlmIChmZXRjaGluZykge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5fX3N0YWxlV2hpbGVGZXRjaGluZ1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW92ZVRvVGFpbChpbmRleClcbiAgICAgICAgaWYgKHVwZGF0ZUFnZU9uR2V0KSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVJdGVtQWdlKGluZGV4KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdHVzKSB7XG4gICAgICBzdGF0dXMuZ2V0ID0gJ21pc3MnXG4gICAgfVxuICB9XG5cbiAgY29ubmVjdChwLCBuKSB7XG4gICAgdGhpcy5wcmV2W25dID0gcFxuICAgIHRoaXMubmV4dFtwXSA9IG5cbiAgfVxuXG4gIG1vdmVUb1RhaWwoaW5kZXgpIHtcbiAgICAvLyBpZiB0YWlsIGFscmVhZHksIG5vdGhpbmcgdG8gZG9cbiAgICAvLyBpZiBoZWFkLCBtb3ZlIGhlYWQgdG8gbmV4dFtpbmRleF1cbiAgICAvLyBlbHNlXG4gICAgLy8gICBtb3ZlIG5leHRbcHJldltpbmRleF1dIHRvIG5leHRbaW5kZXhdIChoZWFkIGhhcyBubyBwcmV2KVxuICAgIC8vICAgbW92ZSBwcmV2W25leHRbaW5kZXhdXSB0byBwcmV2W2luZGV4XVxuICAgIC8vIHByZXZbaW5kZXhdID0gdGFpbFxuICAgIC8vIG5leHRbdGFpbF0gPSBpbmRleFxuICAgIC8vIHRhaWwgPSBpbmRleFxuICAgIGlmIChpbmRleCAhPT0gdGhpcy50YWlsKSB7XG4gICAgICBpZiAoaW5kZXggPT09IHRoaXMuaGVhZCkge1xuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLm5leHRbaW5kZXhdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbm5lY3QodGhpcy5wcmV2W2luZGV4XSwgdGhpcy5uZXh0W2luZGV4XSlcbiAgICAgIH1cbiAgICAgIHRoaXMuY29ubmVjdCh0aGlzLnRhaWwsIGluZGV4KVxuICAgICAgdGhpcy50YWlsID0gaW5kZXhcbiAgICB9XG4gIH1cblxuICBnZXQgZGVsKCkge1xuICAgIGRlcHJlY2F0ZWRNZXRob2QoJ2RlbCcsICdkZWxldGUnKVxuICAgIHJldHVybiB0aGlzLmRlbGV0ZVxuICB9XG5cbiAgZGVsZXRlKGspIHtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlXG4gICAgaWYgKHRoaXMuc2l6ZSAhPT0gMCkge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmtleU1hcC5nZXQoaylcbiAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlXG4gICAgICAgIGlmICh0aGlzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUl0ZW1TaXplKGluZGV4KVxuICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnZhbExpc3RbaW5kZXhdXG4gICAgICAgICAgaWYgKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godikpIHtcbiAgICAgICAgICAgIHYuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCdkZWxldGVkJykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSh2LCBrLCAnZGVsZXRlJylcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3Bvc2VBZnRlcikge1xuICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VkLnB1c2goW3YsIGssICdkZWxldGUnXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5rZXlNYXAuZGVsZXRlKGspXG4gICAgICAgICAgdGhpcy5rZXlMaXN0W2luZGV4XSA9IG51bGxcbiAgICAgICAgICB0aGlzLnZhbExpc3RbaW5kZXhdID0gbnVsbFxuICAgICAgICAgIGlmIChpbmRleCA9PT0gdGhpcy50YWlsKSB7XG4gICAgICAgICAgICB0aGlzLnRhaWwgPSB0aGlzLnByZXZbaW5kZXhdXG4gICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5oZWFkKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLm5leHRbaW5kZXhdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFt0aGlzLnByZXZbaW5kZXhdXSA9IHRoaXMubmV4dFtpbmRleF1cbiAgICAgICAgICAgIHRoaXMucHJldlt0aGlzLm5leHRbaW5kZXhdXSA9IHRoaXMucHJldltpbmRleF1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zaXplLS1cbiAgICAgICAgICB0aGlzLmZyZWUucHVzaChpbmRleClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5kaXNwb3NlZCkge1xuICAgICAgd2hpbGUgKHRoaXMuZGlzcG9zZWQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFmdGVyKC4uLnRoaXMuZGlzcG9zZWQuc2hpZnQoKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlbGV0ZWRcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGZvciAoY29uc3QgaW5kZXggb2YgdGhpcy5yaW5kZXhlcyh7IGFsbG93U3RhbGU6IHRydWUgfSkpIHtcbiAgICAgIGNvbnN0IHYgPSB0aGlzLnZhbExpc3RbaW5kZXhdXG4gICAgICBpZiAodGhpcy5pc0JhY2tncm91bmRGZXRjaCh2KSkge1xuICAgICAgICB2Ll9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcignZGVsZXRlZCcpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgayA9IHRoaXMua2V5TGlzdFtpbmRleF1cbiAgICAgICAgdGhpcy5kaXNwb3NlKHYsIGssICdkZWxldGUnKVxuICAgICAgICBpZiAodGhpcy5kaXNwb3NlQWZ0ZXIpIHtcbiAgICAgICAgICB0aGlzLmRpc3Bvc2VkLnB1c2goW3YsIGssICdkZWxldGUnXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMua2V5TWFwLmNsZWFyKClcbiAgICB0aGlzLnZhbExpc3QuZmlsbChudWxsKVxuICAgIHRoaXMua2V5TGlzdC5maWxsKG51bGwpXG4gICAgaWYgKHRoaXMudHRscykge1xuICAgICAgdGhpcy50dGxzLmZpbGwoMClcbiAgICAgIHRoaXMuc3RhcnRzLmZpbGwoMClcbiAgICB9XG4gICAgaWYgKHRoaXMuc2l6ZXMpIHtcbiAgICAgIHRoaXMuc2l6ZXMuZmlsbCgwKVxuICAgIH1cbiAgICB0aGlzLmhlYWQgPSAwXG4gICAgdGhpcy50YWlsID0gMFxuICAgIHRoaXMuaW5pdGlhbEZpbGwgPSAxXG4gICAgdGhpcy5mcmVlLmxlbmd0aCA9IDBcbiAgICB0aGlzLmNhbGN1bGF0ZWRTaXplID0gMFxuICAgIHRoaXMuc2l6ZSA9IDBcbiAgICBpZiAodGhpcy5kaXNwb3NlZCkge1xuICAgICAgd2hpbGUgKHRoaXMuZGlzcG9zZWQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFmdGVyKC4uLnRoaXMuZGlzcG9zZWQuc2hpZnQoKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgcmVzZXQoKSB7XG4gICAgZGVwcmVjYXRlZE1ldGhvZCgncmVzZXQnLCAnY2xlYXInKVxuICAgIHJldHVybiB0aGlzLmNsZWFyXG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIGRlcHJlY2F0ZWRQcm9wZXJ0eSgnbGVuZ3RoJywgJ3NpemUnKVxuICAgIHJldHVybiB0aGlzLnNpemVcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQWJvcnRDb250cm9sbGVyKCkge1xuICAgIHJldHVybiBBQ1xuICB9XG4gIHN0YXRpYyBnZXQgQWJvcnRTaWduYWwoKSB7XG4gICAgcmV0dXJuIEFTXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGVcbiIsIi8vIFByb2NlZHVyZXMgZm9yIGNoYW5naW5nIHRoZSBieXRlIHNleFxuLy8gU1FMaXRlIGlzIGFsd2F5cyBCaWctRW5kaWFuLCBKUyBmb2xsb3dzIHRoZSBwbGF0Zm9ybSwgd2hpY2ggaXMgTGl0dGxlLUVuZGlhbiBvbiB4ODZcbmNvbnN0IHN3YXBOZWVkZWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGFiID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgIGNvbnN0IHU4ID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICAgIGNvbnN0IHUxNiA9IG5ldyBVaW50MTZBcnJheShhYik7XG4gICAgdThbMF0gPSAweEYwO1xuICAgIHU4WzFdID0gMHgwRDtcbiAgICAvLyBCaWdcbiAgICBpZiAodTE2WzBdID09IDB4RjAwRCkge1xuICAgICAgICBjb25zb2xlLmxvZygnU3lzdGVtIGlzIEJpZy1FbmRpYW4nKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBMaXR0bGVcbiAgICBpZiAodTE2WzBdID09IDB4MERGMCkge1xuICAgICAgICBjb25zb2xlLmxvZygnU3lzdGVtIGlzIExpdHRsZS1FbmRpYW4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIGRldGVybWluaW5nIGVuZGlhbm5lc3M6ICR7dTE2fWApO1xufSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBudG9oMTYoZGF0YSkge1xuICAgIGlmIChzd2FwTmVlZGVkKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9ICgoZGF0YVtpXSAmIDB4RkYwMCkgPj4gOCkgfCAoKGRhdGFbaV0gJiAweDAwRkYpIDw8IDgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5kaWFubmVzcy5qcy5tYXAiLCJ2YXIgX2E7XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE9wdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lb3V0OiAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMjAwMDAsXG4gICAgICAgIG1heFBhZ2VTaXplOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWF4UGFnZVNpemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDQwOTYsXG4gICAgICAgIGNhY2hlU2l6ZTogKF9jID0gb3B0aW9ucy5jYWNoZVNpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDEwMjQsXG4gICAgICAgIGZldGNoT3B0aW9uczogKF9kID0gb3B0aW9ucy5mZXRjaE9wdGlvbnMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHt9XG4gICAgfTtcbn1cbmNvbnN0IGRlYnVnT3B0aW9ucyA9ICh0eXBlb2YgU1FMSVRFX0RFQlVHICE9PSAndW5kZWZpbmVkJyAmJiBTUUxJVEVfREVCVUcpIHx8XG4gICAgKHR5cGVvZiAoKF9hID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLlNRTElURV9ERUJVRykgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52LlNRTElURV9ERUJVRykgfHxcbiAgICAnJztcbmV4cG9ydCBjb25zdCBkZWJ1Z1N5cyA9IFsndGhyZWFkcycsICd2ZnMnLCAnY2FjaGUnXTtcbmV4cG9ydCBjb25zdCBkZWJ1ZyA9IHt9O1xuZm9yIChjb25zdCBkIG9mIGRlYnVnU3lzKSB7XG4gICAgZGVidWdbZF0gPSBkZWJ1Z09wdGlvbnMuaW5jbHVkZXMoZCkgP1xuICAgICAgICBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSkgOlxuICAgICAgICAoKSA9PiB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZnMtaHR0cC10eXBlcy5qcy5tYXAiLCIvLyBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCBmb3IgYW4gSFRUUCBiYWNrZW5kIHRocmVhZFxuLy8gSXQgY2FuIHNlcnZlIG11bHRpcGxlIFNRTGl0ZSB3b3JrZXIgdGhyZWFkc1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgTFJVQ2FjaGUgZnJvbSAnbHJ1LWNhY2hlJztcbmltcG9ydCB7IG50b2gxNiB9IGZyb20gJy4vZW5kaWFubmVzcy5qcyc7XG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gJy4vdmZzLWh0dHAtdHlwZXMuanMnO1xuLyppZiAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlID09PSAndW5kZWZpbmVkJyB8fCAhKHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkpXG4gIHRocm93IG5ldyBFcnJvcignVGhpcyBzY3JpcHQgbXVzdCBydW4gaW4gYSBXZWJXb3JrZXInKTsqL1xubGV0IG9wdGlvbnM7XG4vLyBUaGUgc2V0IG9mIHNxbGl0ZSBXb3JrZXJzIHRoYXQgdXNlIHRoaXMgYmFja2VuZFxuY29uc3QgY29uc3VtZXJzID0ge307XG5jb25zdCBmaWxlcyA9IG5ldyBMUlVDYWNoZSh7XG4gICAgbWF4OiAzMlxufSk7XG4vLyBUaGUgZW50cnkgZm9yIGEgZ2l2ZW4gcGFnZSBjYW4gYmUgZWl0aGVyIHRoZSBwYWdlIGl0c2VsZlxuLy8gb3IgdGhlIG51bWJlciBvZiB0aGUgcGFnZSB0aGF0IGhhcyB0aGUgcGFyZW50IHN1cGVyLXBhZ2VcbmxldCBjYWNoZTtcbmxldCBuZXh0SWQgPSAxO1xuY29uc3QgYmFja2VuZEFzeW5jTWV0aG9kcyA9IHtcbiAgICAvLyBIVFRQIGlzIGEgc3RhdGVsZXNzIHByb3RvY29sLCBzbyB4T3BlbiBtZWFucyB2ZXJpZnkgaWYgdGhlIFVSTCBpcyB2YWxpZFxuICAgIHhPcGVuOiBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChmaWxlcy5oYXMobXNnLnVybCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBjb25zdCBmZXRjaE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLmZldGNoT3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIWZldGNoT3B0aW9ucy5tZXRob2QpXG4gICAgICAgICAgICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9ICdIRUFEJztcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgKChfYSA9IGZldGNoT3B0aW9ucy5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICAgICAgY29uc3QgaGVhZCA9IHlpZWxkIGZldGNoKG1zZy51cmwsIGZldGNoT3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoaGVhZC5oZWFkZXJzLmdldCgnQWNjZXB0LVJhbmdlcycpICE9PSAnYnl0ZXMnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBTZXJ2ZXIgZm9yICR7bXNnLnVybH0gZG9lcyBub3QgYWR2ZXJ0aXNlICdBY2NlcHQtUmFuZ2VzJy4gYCArXG4gICAgICAgICAgICAgICAgICAgICdJZiB0aGUgc2VydmVyIHN1cHBvcnRzIGl0LCBpbiBvcmRlciB0byByZW1vdmUgdGhpcyBtZXNzYWdlLCBhZGQgXCJBY2NlcHQtUmFuZ2VzOiBieXRlc1wiLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0FkZGl0aW9uYWxseSwgaWYgdXNpbmcgQ09SUywgYWRkIFwiQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnM6ICpcIi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVzLnNldChtc2cudXJsLCB7XG4gICAgICAgICAgICAgICAgdXJsOiBtc2cudXJsLFxuICAgICAgICAgICAgICAgIGlkOiBuZXh0SWQrKyxcbiAgICAgICAgICAgICAgICBzaXplOiBCaWdJbnQoaGVhZC5oZWFkZXJzLmdldCgnQ29udGVudC1MZW5ndGgnKSksXG4gICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGRldGVybWluZWQgb24gdGhlIGZpcnN0IHJlYWRcbiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyBUaGVyZSBpcyBubyByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiB4T3BlbiBhbmQgeEFjY2Vzcywgb25seSB0aGUgc2VtYW50aWNzIGRpZmZlclxuICAgIHhBY2Nlc3M6IGZ1bmN0aW9uIChtc2csIGNvbnN1bWVyKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDMyQXJyYXkoY29uc3VtZXIuc2htLCAwLCAxKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHlpZWxkIGJhY2tlbmRBc3luY01ldGhvZHMueE9wZW4obXNnLCBjb25zdW1lcik7XG4gICAgICAgICAgICAgICAgaWYgKHIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0WzBdID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0WzBdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHhSZWFkOiBmdW5jdGlvbiAobXNnLCBjb25zdW1lcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IGZpbGVzLmdldChtc2cudXJsKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlICR7bXNnLnVybH0gbm90IG9wZW5gKTtcbiAgICAgICAgICAgIGlmICghZW50cnkucGFnZVNpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBhZ2Ugc2l6ZSBpZiB3ZSBkb24ndCBrbm93IGl0XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgaW4gdHdvIGJpZy1lbmRpYW4gYnl0ZXMgYXQgb2Zmc2V0IDE2IGluIHdoYXQgaXMgYWx3YXlzIHRoZSBmaXJzdCBwYWdlXG4gICAgICAgICAgICAgICAgZW50cnkucGFnZVNpemUgPSAxMDI0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB5aWVsZCBiYWNrZW5kQXN5bmNNZXRob2RzLnhSZWFkKHsgbXNnOiAneFJlYWQnLCB1cmw6IG1zZy51cmwsIG9mZnNldDogQmlnSW50KDE2KSwgbjogMiB9LCB7IGJ1ZmZlcjogbmV3IFVpbnQ4QXJyYXkocGFnZURhdGFCdWZmZXIpIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VEYXRhID0gbmV3IFVpbnQxNkFycmF5KHBhZ2VEYXRhQnVmZmVyKTtcbiAgICAgICAgICAgICAgICBpZiAociAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgbnRvaDE2KHBhZ2VEYXRhKTtcbiAgICAgICAgICAgICAgICBlbnRyeS5wYWdlU2l6ZSA9IHBhZ2VEYXRhWzBdO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5wYWdlU2l6ZSAhPSAxMDI0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYWdlIHNpemUgaXMgbm90IDEwMjQgd2UgY2FuJ3Qga2VlcCB0aGlzIFwicGFnZVwiIGluIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFBhZ2Ugc2l6ZSBmb3IgJHttc2cudXJsfSBpcyAke2VudHJ5LnBhZ2VTaXplfSwgcmVjb21tZW5kZWQgc2l6ZSBpcyAxMDI0YCk7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShlbnRyeS5pZCArICd8MCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50cnkucGFnZVNpemUgPiBvcHRpb25zLm1heFBhZ2VTaXplKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZW50cnkucGFnZVNpemV9IGlzIG92ZXIgdGhlIG1heGltdW0gY29uZmlndXJlZCAke29wdGlvbnMubWF4UGFnZVNpemV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYWdlU2l6ZSA9IEJpZ0ludChlbnRyeS5wYWdlU2l6ZSk7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBCaWdJbnQobXNnLm4pO1xuICAgICAgICAgICAgY29uc3QgcGFnZSA9IG1zZy5vZmZzZXQgLyBwYWdlU2l6ZTtcbiAgICAgICAgICAgIGlmIChwYWdlICogcGFnZVNpemUgIT09IG1zZy5vZmZzZXQpXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWFkIGNodW5rICR7bXNnLm9mZnNldH0gaXMgbm90IHBhZ2UtYWxpZ25lZGApO1xuICAgICAgICAgICAgbGV0IHBhZ2VTdGFydCA9IHBhZ2UgKiBwYWdlU2l6ZTtcbiAgICAgICAgICAgIGlmIChwYWdlU3RhcnQgKyBwYWdlU2l6ZSA8IG1zZy5vZmZzZXQgKyBsZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWFkIGNodW5rICR7bXNnLm9mZnNldH06JHttc2cubn0gc3BhbnMgYWNyb3NzIGEgcGFnZS1ib3VuZGFyeWApO1xuICAgICAgICAgICAgY29uc3QgY2FjaGVJZCA9IGVudHJ5LmlkICsgJ3wnICsgcGFnZTtcbiAgICAgICAgICAgIGxldCBkYXRhID0gY2FjaGUuZ2V0KGNhY2hlSWQpO1xuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCBhbm90aGVyIHRocmVhZCBoYXMgcmVxdWVzdGVkIHRoaXMgc2VnbWVudFxuICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCBkYXRhO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGRlYnVnWydjYWNoZSddKGBjYWNoZSBoaXQgKG11bHRpLXBhZ2Ugc2VnbWVudCkgZm9yICR7bXNnLnVybH06JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgcGFnZSBpcyBwcmVzZW50IGFzIGEgc2VnbWVudCBvZiBhIHN1cGVyLXBhZ2VcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQYWdlU3RhcnQgPSBCaWdJbnQoZGF0YSkgKiBwYWdlU2l6ZTtcbiAgICAgICAgICAgICAgICBkYXRhID0gY2FjaGUuZ2V0KGVudHJ5LmlkICsgJ3wnICsgZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICBkYXRhID0geWllbGQgZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90IGFsbCBzdWJwYWdlcyBhcmUgdmFsaWQsIHRoZXJlIGFyZSB0d28gcG9zc2libGUgY2FzZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlcmUgYSBub24tdmFsaWQgc3VwZXJwYWdlIGNhbiBiZSByZWZlcmVuY2VkOlxuICAgICAgICAgICAgICAgICAgICAvLyAqIHRoZSBzdXBlcnBhZ2Ugd2FzIHRvbyBiaWcgdG8gZml0IGluIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAvLyAqIHRoZSBzdXBlcnBhZ2Ugd2FzIGV2aWN0ZWQgYmVmb3JlIHRoZSBzdWJzZWdtZW50c1xuICAgICAgICAgICAgICAgICAgICBwYWdlU3RhcnQgPSBuZXdQYWdlU3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z1snY2FjaGUnXShgY2FjaGUgbWlzcyBmb3IgJHttc2cudXJsfToke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgbGV0IGNodW5rU2l6ZSA9IGVudHJ5LnBhZ2VTaXplO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBwYWdlIGlzIGluIHRoZSBjYWNoZSwgd2UgZG91YmxlIHRoZSBwYWdlIHNpemVcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdhcyB0aGUgb3JpZ2luYWwgcGFnZSBtZXJnaW5nIGFsZ29yaXRobSBpbXBsZW1lbnRlZCBieSBAcGhpcmVza3lcbiAgICAgICAgICAgICAgICBsZXQgcHJldiA9IHBhZ2UgPiAwICYmIGNhY2hlLmdldChlbnRyeS5pZCArICd8JyArIChOdW1iZXIocGFnZSkgLSAxKSk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldiA9IHlpZWxkIHByZXY7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJldiA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gY2FjaGUuZ2V0KGVudHJ5LmlkICsgJ3wnICsgcHJldik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2IGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSB5aWVsZCBwcmV2O1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkIHN1cGVycGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtTaXplID0gcHJldi5ieXRlTGVuZ3RoICogMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnWydjYWNoZSddKGBkb3dubG9hZGluZyBzdXBlciBwYWdlIG9mIHNpemUgJHtjaHVua1NpemV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBjaHVua1NpemUgLyBlbnRyeS5wYWdlU2l6ZTtcbiAgICAgICAgICAgICAgICAvLyBEb3dubG9hZGluZyBhIG5ldyBzZWdtZW50XG4gICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucy5mZXRjaE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmICghZmV0Y2hPcHRpb25zLm1ldGhvZClcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9ICdHRVQnO1xuICAgICAgICAgICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgKChfYSA9IGZldGNoT3B0aW9ucy5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICAgICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzWydSYW5nZSddID0gYGJ5dGVzPSR7cGFnZVN0YXJ0fS0ke3BhZ2VTdGFydCArIEJpZ0ludChjaHVua1NpemUgLSAxKX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3AgPSBmZXRjaChtc2cudXJsLCBmZXRjaE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiByLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiBuZXcgVWludDhBcnJheShyKSk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc3luY2hyb25vdXNseSBzZXQgYSBQcm9taXNlIGluIHRoZSBjYWNoZSBpbiBjYXNlIGFub3RoZXIgdGhyZWFkXG4gICAgICAgICAgICAgICAgLy8gdHJpZXMgdG8gcmVhZCB0aGUgc2FtZSBzZWdtZW50XG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KGNhY2hlSWQsIHJlc3ApO1xuICAgICAgICAgICAgICAgIC8vIFRoZXNlIHBvaW50IHRvIHRoZSBwYXJlbnQgc3VwZXItcGFnZSBhbmQgcmVzb2x2ZSBhdCB0aGUgc2FtZSB0aW1lIGFzIHJlc3BcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gTnVtYmVyKHBhZ2UpICsgMTsgaSA8IE51bWJlcihwYWdlKSArIHBhZ2VzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUuc2V0KGVudHJ5LmlkICsgJ3wnICsgaSwgcmVzcC50aGVuKCgpID0+IE51bWJlcihwYWdlKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhID0geWllbGQgcmVzcDtcbiAgICAgICAgICAgICAgICBpZiAoIShkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkgfHwgZGF0YS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBIVFRQIHJlc3BvbnNlIHJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KHJlc3ApfWApO1xuICAgICAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgYSBtdWx0aXBsZS1wYWdlIHNlZ21lbnQsIHRoaXMgaXMgdGhlIHBhcmVudCBzdXBlci1wYWdlXG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KGNhY2hlSWQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIC8vIFRoZXNlIHBvaW50IHRvIHRoZSBwYXJlbnQgc3VwZXItcGFnZVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBOdW1iZXIocGFnZSkgKyAxOyBpIDwgTnVtYmVyKHBhZ2UpICsgcGFnZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zZXQoZW50cnkuaWQgKyAnfCcgKyBpLCBOdW1iZXIocGFnZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnWydjYWNoZSddKGBjYWNoZSBoaXQgZm9yICR7bXNnLnVybH06JHtwYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFnZU9mZnNldCA9IE51bWJlcihtc2cub2Zmc2V0IC0gcGFnZVN0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN1bWVyLmJ1ZmZlci5zZXQoZGF0YS5zdWJhcnJheShwYWdlT2Zmc2V0LCBwYWdlT2Zmc2V0ICsgbXNnLm4pKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8vIFRoaXMgaXMgY2FjaGVkXG4gICAgeEZpbGVzaXplOiBmdW5jdGlvbiAobXNnLCBjb25zdW1lcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSBmaWxlcy5nZXQobXNnLnVybCk7XG4gICAgICAgICAgICBpZiAoIWVudHJ5KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmlsZSAke21zZy5maWR9IG5vdCBvcGVuYCk7XG4gICAgICAgICAgICBjb25zdCBvdXQgPSBuZXcgQmlnSW50NjRBcnJheShjb25zdW1lci5zaG0sIDAsIDEpO1xuICAgICAgICAgICAgb3V0WzBdID0gZW50cnkuc2l6ZTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuZnVuY3Rpb24gd29ya01lc3NhZ2UoeyBkYXRhIH0pIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBkZWJ1Z1sndGhyZWFkcyddKCdSZWNlaXZlZCBuZXcgd29yayBtZXNzYWdlJywgdGhpcywgZGF0YSk7XG4gICAgICAgIGxldCByO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgciA9IHlpZWxkIGJhY2tlbmRBc3luY01ldGhvZHNbZGF0YS5tc2ddKGRhdGEsIHRoaXMpO1xuICAgICAgICAgICAgZGVidWdbJ3RocmVhZHMnXSgnb3BlcmF0aW9uIHN1Y2Nlc3NmdWwnLCB0aGlzLCByKTtcbiAgICAgICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5sb2NrLCAwLCByKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5sb2NrLCAwLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBBdG9taWNzLm5vdGlmeSh0aGlzLmxvY2ssIDApO1xuICAgIH0pO1xufVxuZ2xvYmFsVGhpcy5vbm1lc3NhZ2UgPSAoeyBkYXRhIH0pID0+IHtcbiAgICBkZWJ1Z1sndGhyZWFkcyddKCdSZWNlaXZlZCBuZXcgY29udHJvbCBtZXNzYWdlJywgZGF0YSk7XG4gICAgc3dpdGNoIChkYXRhLm1zZykge1xuICAgICAgICBjYXNlICdoYW5kc2hha2UnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNobSA9IG5ldyBTaGFyZWRBcnJheUJ1ZmZlcihvcHRpb25zLm1heFBhZ2VTaXplICsgSW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jayA9IG5ldyBJbnQzMkFycmF5KHNobSwgb3B0aW9ucy5tYXhQYWdlU2l6ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoc2htLCAwLCBvcHRpb25zLm1heFBhZ2VTaXplKTtcbiAgICAgICAgICAgICAgICBsb2NrWzBdID0gMHhmZmZmO1xuICAgICAgICAgICAgICAgIGNvbnN1bWVyc1tkYXRhLmlkXSA9IHsgaWQ6IGRhdGEuaWQsIHBvcnQ6IGRhdGEucG9ydCwgc2htLCBsb2NrLCBidWZmZXIgfTtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZSh7IG1zZzogJ2FjaycsIGlkOiBkYXRhLmlkLCBzaG0sIGxvY2sgfSk7XG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0Lm9ubWVzc2FnZSA9IHdvcmtNZXNzYWdlLmJpbmQoY29uc3VtZXJzW2RhdGEuaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkYXRhLm9wdGlvbnM7XG4gICAgICAgICAgICBjYWNoZSA9IG5ldyBMUlVDYWNoZSh7XG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogb3B0aW9ucy5jYWNoZVNpemUgKiAxMDI0LFxuICAgICAgICAgICAgICAgIHNpemVDYWxjdWxhdGlvbjogKHZhbHVlKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHZhbHVlLmJ5dGVMZW5ndGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDQ7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsgbXNnOiAnYWNrJyB9KTtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZXNzYWdlIHJlY2VpdmVkIGJ5IGJhY2tlbmQ6ICR7ZGF0YX1gKTtcbiAgICB9XG59O1xuaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYXJlZEFycmF5QnVmZmVyIGlzIG5vdCBhdmFpbGFibGUuICcgK1xuICAgICAgICAnSWYgeW91ciBicm93c2VyIHN1cHBvcnRzIGl0LCB0aGUgd2Vic2VydmVyIG11c3Qgc2VuZCAnICtcbiAgICAgICAgJ1wiQ3Jvc3MtT3JpZ2luLU9wZW5lci1Qb2xpY3k6IHNhbWUtb3JpZ2luIFwiJyArXG4gICAgICAgICdhbmQgXCJDcm9zcy1PcmlnaW4tRW1iZWRkZXItUG9saWN5OiByZXF1aXJlLWNvcnBcIiBoZWFkZXJzLicpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmZzLWh0dHAtd29ya2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJwZXJmIiwicGVyZm9ybWFuY2UiLCJub3ciLCJEYXRlIiwiQUMiLCJBYm9ydENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJzaWduYWwiLCJBUyIsImFib3J0IiwicmVhc29uIiwiRXJyb3IiLCJhYm9ydGVkIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJ0YXJnZXQiLCJoYXNBYm9ydFNpZ25hbCIsIkFib3J0U2lnbmFsIiwiaGFzQUNBYm9ydFNpZ25hbCIsInVuZGVmaW5lZCIsIl9saXN0ZW5lcnMiLCJlIiwib25hYm9ydCIsImZvckVhY2giLCJmIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwiZm4iLCJwdXNoIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZpbHRlciIsIndhcm5lZCIsIlNldCIsImRlcHJlY2F0ZWRPcHRpb24iLCJvcHQiLCJpbnN0ZWFkIiwiY29kZSIsInNob3VsZFdhcm4iLCJ3YXJuIiwiTFJVQ2FjaGUiLCJkZXByZWNhdGVkTWV0aG9kIiwibWV0aG9kIiwicHJvdG90eXBlIiwiZ2V0IiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW1pdFdhcm5pbmciLCJhIiwicHJvY2VzcyIsImNvbnNvbGUiLCJlcnJvciIsImhhcyIsIndoYXQiLCJhZGQiLCJpc1Bvc0ludCIsIm4iLCJNYXRoIiwiZmxvb3IiLCJpc0Zpbml0ZSIsImdldFVpbnRBcnJheSIsIm1heCIsInBvdyIsIlVpbnQ4QXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQzMkFycmF5IiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsIlplcm9BcnJheSIsIkFycmF5Iiwic2l6ZSIsInN1cGVyIiwiZmlsbCIsIlN0YWNrIiwiVWludEFycmF5IiwiaGVhcCIsImxlbmd0aCIsInBvcCIsIm9wdGlvbnMiLCJ0dGwiLCJ0dGxSZXNvbHV0aW9uIiwidHRsQXV0b3B1cmdlIiwidXBkYXRlQWdlT25HZXQiLCJ1cGRhdGVBZ2VPbkhhcyIsImFsbG93U3RhbGUiLCJkaXNwb3NlIiwiZGlzcG9zZUFmdGVyIiwibm9EaXNwb3NlT25TZXQiLCJub1VwZGF0ZVRUTCIsIm1heFNpemUiLCJtYXhFbnRyeVNpemUiLCJzaXplQ2FsY3VsYXRpb24iLCJmZXRjaE1ldGhvZCIsImZldGNoQ29udGV4dCIsIm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbiIsIm5vRGVsZXRlT25TdGFsZUdldCIsImFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uIiwiYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCIsImlnbm9yZUZldGNoQWJvcnQiLCJtYXhBZ2UiLCJzdGFsZSIsIlR5cGVFcnJvciIsImtleU1hcCIsIk1hcCIsImtleUxpc3QiLCJ2YWxMaXN0IiwibmV4dCIsInByZXYiLCJoZWFkIiwidGFpbCIsImZyZWUiLCJpbml0aWFsRmlsbCIsImRpc3Bvc2VkIiwiaW5pdGlhbGl6ZVNpemVUcmFja2luZyIsImluaXRpYWxpemVUVExUcmFja2luZyIsImdldFJlbWFpbmluZ1RUTCIsImtleSIsIkluZmluaXR5IiwidHRscyIsInN0YXJ0cyIsInNldEl0ZW1UVEwiLCJpbmRleCIsInN0YXJ0IiwidCIsInNldFRpbWVvdXQiLCJpc1N0YWxlIiwiZGVsZXRlIiwidW5yZWYiLCJ1cGRhdGVJdGVtQWdlIiwic3RhdHVzVFRMIiwic3RhdHVzIiwiY2FjaGVkTm93IiwiZ2V0Tm93IiwicmVtYWluaW5nVFRMIiwiX2luZGV4IiwiX3N0YXR1cyIsIl90dGwiLCJfc3RhcnQiLCJjYWxjdWxhdGVkU2l6ZSIsInNpemVzIiwicmVtb3ZlSXRlbVNpemUiLCJyZXF1aXJlU2l6ZSIsImsiLCJ2IiwiaXNCYWNrZ3JvdW5kRmV0Y2giLCJhZGRJdGVtU2l6ZSIsImV2aWN0IiwiZW50cnlTaXplIiwidG90YWxDYWxjdWxhdGVkU2l6ZSIsIl9zaXplIiwiX2siLCJfdiIsImkiLCJpc1ZhbGlkSW5kZXgiLCJpbmRleGVzIiwicmluZGV4ZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsImVudHJpZXMiLCJmaW5kIiwiZ2V0T3B0aW9ucyIsInRoaXNwIiwiY2FsbCIsInJmb3JFYWNoIiwicHJ1bmUiLCJwdXJnZVN0YWxlIiwiZGVsZXRlZCIsImR1bXAiLCJhcnIiLCJ2YWx1ZSIsIl9fc3RhbGVXaGlsZUZldGNoaW5nIiwiZW50cnkiLCJhZ2UiLCJ1bnNoaWZ0IiwibG9hZCIsImNsZWFyIiwic2V0IiwiX3JlYXNvbiIsIm1heEVudHJ5U2l6ZUV4Y2VlZGVkIiwibmV3SW5kZXgiLCJtb3ZlVG9UYWlsIiwib2xkVmFsIiwiX19hYm9ydENvbnRyb2xsZXIiLCJvbGRWYWx1ZSIsInNoaWZ0IiwidmFsIiwicGVlayIsImJhY2tncm91bmRGZXRjaCIsImNvbnRleHQiLCJhYyIsImZldGNoT3B0cyIsImNiIiwidXBkYXRlQ2FjaGUiLCJpZ25vcmVBYm9ydCIsImZldGNoQWJvcnRlZCIsImZldGNoRXJyb3IiLCJmZXRjaEFib3J0SWdub3JlZCIsImZldGNoUmVzb2x2ZWQiLCJwIiwiZmV0Y2hVcGRhdGVkIiwiZmV0Y2hGYWlsIiwiZXIiLCJhbGxvd1N0YWxlQWJvcnRlZCIsIm5vRGVsZXRlIiwicmV0dXJuZWRTdGFsZSIsIl9fcmV0dXJuZWQiLCJmZXRjaERpc3BhdGNoZWQiLCJQcm9taXNlIiwicmVzIiwicmVqIiwidGhlbiIsImZldGNoUmVqZWN0ZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImFzeW5jIiwiZm9yY2VSZWZyZXNoIiwiZmV0Y2giLCJoYXNTdGFsZSIsInN0YWxlVmFsIiwiZmV0Y2hpbmciLCJjb25uZWN0IiwiZGVsIiwicmVzZXQiLCJmaWVsZCIsImRlcHJlY2F0ZWRQcm9wZXJ0eSIsInN3YXBOZWVkZWQiLCJhYiIsIkFycmF5QnVmZmVyIiwidTgiLCJ1MTYiLCJsb2ciLCJkZWJ1Z09wdGlvbnMiLCJkZWJ1Z1N5cyIsImRlYnVnIiwiZCIsImluY2x1ZGVzIiwiYmluZCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiYXBwbHkiLCJjb25zdW1lcnMiLCJmaWxlcyIsImNhY2hlIiwibmV4dElkIiwiYmFja2VuZEFzeW5jTWV0aG9kcyIsInhPcGVuIiwibXNnIiwiX2EiLCJ1cmwiLCJmZXRjaE9wdGlvbnMiLCJhc3NpZ24iLCJoZWFkZXJzIiwiaWQiLCJCaWdJbnQiLCJwYWdlU2l6ZSIsInhBY2Nlc3MiLCJjb25zdW1lciIsInNobSIsInIiLCJ4UmVhZCIsInBhZ2VEYXRhQnVmZmVyIiwib2Zmc2V0IiwiYnVmZmVyIiwicGFnZURhdGEiLCJkYXRhIiwibnRvaDE2IiwibWF4UGFnZVNpemUiLCJsZW4iLCJwYWdlIiwicGFnZVN0YXJ0IiwiY2FjaGVJZCIsIm5ld1BhZ2VTdGFydCIsImNodW5rU2l6ZSIsImJ5dGVMZW5ndGgiLCJwYWdlcyIsInJlc3AiLCJhcnJheUJ1ZmZlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYWdlT2Zmc2V0Iiwic3ViYXJyYXkiLCJ4RmlsZXNpemUiLCJmaWQiLCJCaWdJbnQ2NEFycmF5Iiwid29ya01lc3NhZ2UiLCJBdG9taWNzIiwic3RvcmUiLCJsb2NrIiwibm90aWZ5IiwiZ2xvYmFsVGhpcyIsIm9ubWVzc2FnZSIsIlNoYXJlZEFycmF5QnVmZmVyIiwiSW50MzJBcnJheSIsIkJZVEVTX1BFUl9FTEVNRU5UIiwicG9ydCIsInBvc3RNZXNzYWdlIiwiY2FjaGVTaXplIiwiY2xvc2UiXSwic291cmNlUm9vdCI6IiJ9